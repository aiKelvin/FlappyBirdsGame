"use strict";angular.module("cocoonjsApp",["ngCookies","ngResource","ngSanitize","ngTouch","ngRoute","ngAnimate","ngMaterial","angularFileUpload","ui.ace","angulartics","angular-country-picker","angulartics.segment","http-auth-interceptor"]).config(["$routeProvider","$locationProvider","$httpProvider","$analyticsProvider","URLS",function(a,b,c,d,e){e.base=CocoonSettings.api_url,e.server=CocoonSettings.backend_base,a.otherwise({redirectTo:"/home"}),b.html5Mode(!0),c.interceptors.push("maintenanceInterceptor"),d.virtualPageviews(!1),d.firstPageview(!1),d.withAutoBase(!1)}]).factory("maintenanceInterceptor",["$rootScope","$q","$location","AUTH_EVENTS",function(a,b,c,d){return{responseError:function(e){return 503===e.status||5030===e.data.code?(c.path("/maintenance"),a.$broadcast(d.logoutSuccess),b.reject(e)):b.reject(e)}}}]).run(["$rootScope","$location","Auth","$window","$cookieStore","AUTH_EVENTS","User","authService","$injector","URLS","$interval",function(a,b,c,d,e,f,g,h,i,j,k){var l=function(){if(!c.getOngoingRefresh()){c.setOngoingRefresh(!0);var a=c.getRefreshToken();a||b.path("/login");var d=new XMLHttpRequest;d.onload=function(a){var b=JSON.parse(a.target.response);c.setToken(b),h.loginConfirmed({},function(a){return a.headers.Authorization="Bearer "+c.getToken(),a}),c.setOngoingRefresh(!1)},d.onerror=function(a){h.loginCancelled(),console.log(a),b.path("/login")},d.open("GET",j.refreshTokenURL+"?rToken="+a,!0),d.send()}};a.$on("event:auth-loginRequired",l),k(l,78e4),a.$on("$routeChangeStart",function(b,d){function e(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}angular.noop(b,d);var h,i=g.getUser();e(i)?(h=c.getToken(),h&&(a.loading=!0,c.loginWithToken().then(function(){a.loading=!1,a.$broadcast(f.loginSuccess)}))):a.$broadcast(f.loginSuccess);var j=!e(i)||h;d.authenticate&&!j&&(window.location.href="/")})}]),angular.module("cocoonjsApp").directive("compareTo",function(){return{retrict:"A",require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(a,b,c,d){d.$validators.compareTo=function(b){return b==a.otherModelValue},a.$watch("otherModelValue",function(){d.$validate()})}}}),angular.module("cocoonjsApp").controller("MeCtrl",["$scope","MeService","Auth","$rootScope","AUTH_EVENTS","$mdDialog","$location","UI_EVENTS","User","URLS",function(a,b,c,d,e,f,g,h,i,j){var k=g.$$protocol+"://"+g.$$host+":"+g.$$port+"/assets/images/layout/d77dc397.user_defaultavatar.jpg";a.defaultIconUrlEnc=encodeURI(k),g.search().billing&&(a.data={selectedIndex:1},g.search().next&&(a.backToPrevious="/project/"+g.search().next+"?splash")),b.get(function(b){a.className="fade-in",a.me=b,a.hash=md5(b.email),a.passwordConnection=-1!==b.connections.indexOf("password")}),a.update=function(c,f){a.$broadcast(h.hideMessage),a.submitted=!0,c&&c.$valid&&(a.loading=!0,b.put(f).then(function(b){var c=b.data;i.createUser(c),a.loading=!1,a.$broadcast(h.requestSuccess,"User data updated"),d.$broadcast(e.loginSuccess)},function(b){console.log(b),a.loading=!1,a.$broadcast(h.requestError,b.data.description)}))},a.showConfirm=function(b){f.show({controller:"dialogController",templateUrl:"app/account/me/delete.tpl.html",targetEvent:b}).then(function(b){b&&a["delete"]()})},a["delete"]=function(){a.submitted=!0,b["delete"]().then(function(){c.logout(),d.$broadcast(e.logoutSuccess),window.location.href=j.server+"/cloud/logout?return_to="+g.protocol()+"://"+location.host},function(a){d.$broadcast(e.loginFailed,a.data.description),console.log(a)})}}]).controller("dialogController",["$scope","$mdDialog",function(a,b){a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.confirm=function(a){b.hide(a)}}]).controller("meTabdetailCtrl",["$scope","UI_EVENTS",function(a,b){var c=["Profile","Billing","Signing keys"];a.tabsEnabled=[!0,!0,!0],a.tabTitles=c,a.billingInformationData={},a.data||(a.data={selectedIndex:0}),a.next=function(){a.data.selectedIndex=Math.min(a.data.selectedIndex+1,2)},a.previous=function(){a.data.selectedIndex=Math.max(a.data.selectedIndex-1,0)},a.$on(b.billingReset,function(){a.billingInformationData={}}),a.$on(b.billingAddressReceived,function(c,d){a.billingInformationData[b.billingAddressReceived]=d}),a.$on(b.transactionsReceived,function(c,d){a.billingInformationData[b.transactionsReceived]=d}),a.$on(b.subscriptionReceived,function(c,d){a.billingInformationData[b.subscriptionReceived]=d}),a.$on(b.paymentMethodReceived,function(c,d){a.billingInformationData[b.paymentMethodReceived]=d})}]),angular.module("cocoonjsApp").config(["$routeProvider",function(a){a.when("/me",{templateUrl:"app/account/me/me.html",controller:"MeCtrl",authenticate:!0})}]),angular.module("cocoonjsApp").service("MeService",["$http","Auth","URLS","User",function(a,b,c,d){this.get=function(a){d.onLogin(a)},this.put=function(d){return a.put(c.base+c.userProfile,{username:d.username,name:d.name,email:d.email,lastname:d.lastname,old_password:d.old_password,password:d.password},{headers:{Authorization:"Bearer "+b.getToken()}}).success(function(a){return a}).error(function(a){console.error("Nope: "+a)}).then(function(a){return a})},this["delete"]=function(){return a["delete"](c.base+c.userProfile,{headers:{Authorization:"Bearer "+b.getToken()}}).success(function(a){return a}).error(function(a){console.error("Nope: "+a)}).then(function(a){return a})}}]),angular.module("cocoonjsApp").directive("ldMeForm",[function(){return{templateUrl:"app/account/me/me-form.html"}}]),angular.module("cocoonjsApp").controller("messageController",["$scope","$rootScope","AUTH_EVENTS","UI_EVENTS",function(a,b,c,d){a.customMsg=void 0,a.$on(c.loginFailed,function(b,c){a.customMsg=!0,a.msg=c}),a.$on(c.loginSuccess,function(b,c){a.customMsg=!0,a.success=!0,a.msg=c}),a.$on(d.hideMessage,function(){a.show=void 0}),a.dismiss=function(){a.customMsg=!1}}]).directive("accountMsg",function(){return{templateUrl:"app/account/messages/message.html",controller:"messageController"}}),angular.module("cocoonjsApp").controller("recoverPassController",["$scope","Auth","UI_EVENTS","$mdDialog","$timeout",function(a,b,c,d,e){a.user={},a.submitted=!1,a.recoverpass=function(f){a.loading=!0,a.submitted=!0,f.$valid&&b.resetPassword(f.email.$modelValue).then(function(){a.$emit(c.requestSuccess,"Check your email to find more instructions"),a.hideInput=!0,e(function(){console.log("dialog hide"),d.hide()},1e4)})["catch"](function(b){var d=b.description||"That email doesn't exist";a.$emit(c.requestError,d)})},a.confirm=function(){d.hide()}}]),angular.module("cocoonjsApp").controller("SignupCtrl",["$scope","Auth","$location","$window","$rootScope","AUTH_EVENTS",function(a,b,c,d,e,f){a.user={},a.errors={},a.register=function(d){a.submitted=!0;var g=c.search().invitation;d.$valid&&b.createUser({username:a.user.username,name:a.user.name,lastname:a.user.lastname,email:a.user.email,password:a.user.password},g).then(function(){b.loginWithToken().then(function(){e.$broadcast(f.loginSuccess),c.path("/home")})["catch"](function(a){console.error(a),e.$broadcast(f.loginFailed,a.description)})})["catch"](function(b){a.$broadcast(f.loginFailed,b.description)})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("cocoonjsApp").controller("billingInfoController",["$scope","UI_EVENTS",function(a,b){a.selectedTab="history",a.selectTab=function(b){a.selectedTab=b},a.mustShow=function(c){switch(c){case"history":return a.billingInformationData[b.transactionsReceived]&&a.billingInformationData[b.subscriptionReceived];case"billingInfo":return a.billingInformationData[b.billingAddressReceived];case"paymentMethod":return a.billingInformationData[b.paymentMethodReceived];default:return!0}}}]),angular.module("cocoonjsApp").directive("billingInfo",[function(){return{templateUrl:"app/billingInfo/billingInfo.tpl.html",controller:"billingInfoController"}}]),angular.module("cocoonjsApp").service("BillingInfoService",["$http","Auth","URLS","BillingInfoCodeService","$q",function(a,b,c,d,e){this.getBillingAddress=function(){return f(c.billingInfo)},this.setBillingAddress=function(d){return a.post(c.base+c.billingInfo,{firstName:d.firstName,lastName:d.lastName,company:d.company,city:d.city,state:d.state,country:d.country,address1:d.address1,address2:d.address2,zip:d.zip},{headers:{Authorization:"Bearer "+b.getToken()}}).success(function(a){return a}).error(function(a){console.error("Nope: "+a)}).then(function(a){return a})},this.setPaymentMethod=function(d){return a.post(c.base+c.paymentMethod,{payment_method_nonce:d},{headers:{Authorization:"Bearer "+b.getToken()}})},this.setSubscription=function(d,e){return a.post(c.base+c.subscription,{plan:d,period:e},{headers:{Authorization:"Bearer "+b.getToken()}})},this.getPaymentMethod=function(){return f(c.paymentMethod)},this.getSubscriptionInfo=function(){return f(c.subscription)},this.getTransactionInfo=function(){return f(c.transaction)},this.getBraintreeToken=function(){return a.get(c.base+c.billingToken).success(function(a){return a}).error(function(a){console.log(a)}).then(function(a){return a})},this.removeLudeiSplash=function(d){return a.post(c.base+c.payForSplash,{bundleId:d},{headers:{Authorization:"Bearer "+b.getToken()}})},this.getPurchasesInfo=function(){return f(c.purchases)};var f=function(f){var g=e.defer();return a.get(c.base+f,{headers:{Authorization:"Bearer "+b.getToken()}}).success(function(a){console.log("success"),g.resolve(a)}).error(function(a){console.error("Nope: "+a),g.reject(d.getErrorMessage(a.code))}),g.promise}}]),angular.module("cocoonjsApp").service("BillingInfoCodeService",[function(){this.getErrorMessage=function(a){var b={code:0,text:"Unexpected error happened with billing system"};switch(parseInt(a)){case 702:case 722:case 751:b.text="The user has no payment method";break;default:b.text="Other unknown error happened"}return b.code=a,b}}]),angular.module("cocoonjsApp").filter("billingtabfilter",function(){return function(a){return a.replace(/([A-Z])/g," $1").replace(/^./,function(a){return a.toUpperCase()})}}),angular.module("cocoonjsApp").controller("billingAddressFormController",["$scope","UI_EVENTS","BillingInfoService",function(a,b,c){var d=a.billingInformationData[b.billingAddressReceived];a.loading=!1,d&&"undef"!==d?a.billingAddress=d:c.getBillingAddress().then(function(c){a.billingAddress=c,a.$emit(b.billingAddressReceived,c)},function(){a.$emit(b.billingAddressReceived,"undef")}),a.update=function(d){a.$broadcast(b.hideMessage),d&&d.$valid&&(a.loading=!0,a.$emit(b.billingAddressReceived,a.billingAddress),c.setBillingAddress(a.billingAddress).then(function(){a.loading=!1,a.$broadcast(b.requestSuccess,"Billing info updated")},function(c){a.loading=!1,a.$broadcast(b.requestError,c.data.description)}))}}]),angular.module("cocoonjsApp").directive("billingAddressForm",[function(){return{templateUrl:"app/billingInfo/forms/billingAddress.form.tpl.html",controller:"billingAddressFormController"}}]),angular.module("cocoonjsApp").controller("billingTransactionFormController",["$scope","BillingInfoService","UI_EVENTS",function(a,b,c){var d=a.billingInformationData[c.subscriptionReceived],e=a.billingInformationData[c.transactionsReceived];e&&"undef"!==e?a.transactions=e:b.getTransactionInfo().then(function(b){a.transactions=b,a.$emit(c.transactionsReceived,b)},function(){a.$emit(c.transactionsReceived,"undef")}),d&&"undef"!==d?a.subscription=d:b.getSubscriptionInfo().then(function(b){a.subscription=b,a.$emit(c.subscriptionReceived,b)},function(){a.$emit(c.subscriptionReceived,"undef")})}]),angular.module("cocoonjsApp").directive("billingTransactionForm",[function(){return{templateUrl:"app/billingInfo/forms/billingTransaction.form.tpl.html",controller:"billingTransactionFormController"}}]),angular.module("cocoonjsApp").controller("paymentMethodFormController",["$scope","BillingInfoService","$location","UI_EVENTS",function(a,b,c,d){function e(){a.state="loading",i&&"nodef"!==i&&a.billingInformationData?a.paymentData=a.billingInformationData[d.paymentMethodReceived]:b.getPaymentMethod().then(function(b){a.paymentData=b,a.$emit(d.paymentMethodReceived,b),a.state="showing"},function(){f(),a.$emit(d.paymentMethodReceived,"nodef")})}function f(){a.state="loading",b.getBraintreeToken().then(function(b){a.state="waiting",h.setup(b.data.token,"dropin",{container:"dropin-container",onPaymentMethodReceived:function(a){window.CocoonAnalytics.track("Remove splash setpaymentmethod success"),g(a.nonce)},onError:function(){window.CocoonAnalytics.track("Remove splash setpaymentmethod fail")}})})}function g(c){a.state="loading",b.setPaymentMethod(c).then(function(){window.cocoonHasSetPaymentMethod=!0,e()},function(b){a.state="error",a.$emit(d.paymentError,b)})}var h=window.braintree,i=null;e(),a.changePaymentMethod=function(){return window.cocoonHasSetPaymentMethod?(a.state="processingPM",void a.$emit(d.paymentMethodReceived,"nodef")):void f()},a.restart=function(){e()}}]),angular.module("cocoonjsApp").directive("paymentMethodForm",[function(){return{templateUrl:"app/billingInfo/forms/paymentMethod.form.tpl.html",controller:"paymentMethodFormController"}}]),angular.module("cocoonjsApp").controller("subscriptionInfoController",["$scope","BillingInfoService",function(a,b){b.getSubscriptionInfo().then(function(b){a.subscription=b})}]),angular.module("cocoonjsApp").constant("APP_EVENTS",{offline:"system-offline",invalidUrl:"invalid-url",fileUploadStart:"upload-started",fileUploadEnd:"upload-end",fileUploadError:"upload-error",fileUploadSuccess:"upload-ok",stopPolling:"force-stop-polling",startPolling:"force-start-polling",newKey:"user-new-signing-key",newKeyFailed:"user-new-signing-key-failed",gitSyncSucceeded:"git-sync-succeeded",gitSyncFailed:"git-sync-failed",gitProjectCreated:"git-project-created",projectsLoadFailed:"projects-load-failed",checkXmlUpdate:"checkXmlUpdate",xmlUpdated:"xmlUpdated",xmlSaved:"xmlSaved",wizardCreation:"wizard-creation",wizardStepOne:"wizard-step-one",initStep:"wizard-init-step"}),angular.module("cocoonjsApp").constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}),angular.module("cocoonjsApp").constant("UI_EVENTS",{listReceived:"project-list-received",fileHover:"file-hover-or-entered",fileHoverLeave:"file-hover-leave",fileSelected:"file-selected",offline:"offline",displayProjectCard:"display-project-card",requestSent:"ajax-sent",requestError:"ajax-success",requestSuccess:"ajax-error",keyError:"key-error",hideMessage:"hide-message",nextStep:"wizard-creation-next-step",cancelWizard:"wizard-creation-cancel",wizardFinished:"wizard-creation-finished",wizardZipOk:"wizard-zip-file-ok",wizardStepOneValid:" wizard-step-one-valid",wizardStepOneInvalid:" wizard-step-one-invalid",billingAddressReceived:"billing-address-received",transactionsReceived:"transactions-received",subscriptionReceived:"subscription-received",paymentMethodReceived:"payment-method-received",billingReset:"billing-reset",paymentError:"payment-error"}),angular.module("cocoonjsApp").constant("URLS",{userProfile:"/me/",projectList:"/project/",projectDetail:"/project/",createUser:"/user",oauth:"/user/social/",userKeys:"/signkey/",devApp:"/devapp/",forceBuild:"/compile",createGithub:"/project/github/",putGithub:"/github",templates:"/cocoon/templates",versions:"/cocoon/versions",icons:"/icon",resetPass:"/cloud/login/password",checklist:"/checklist/check",refreshTokenURL:"/api/refresh",splash:"/splash",billingInfo:"/billing/info",paymentMethod:"/billing/payment-method",subscription:"/billing/subscription",billingToken:"/billing/token",transaction:"/billing/transaction",payForSplash:"/purchases/splash",purchases:"/purchases"}),angular.module("cocoonjsApp").config(["$routeProvider",function(a){a.when("/doc/:section?",{templateUrl:function(a){return a.section?"app/doc/templates/"+a.section+".html":"app/doc/templates/index.html"}})}]).controller("DocController",function(){}).directive("menu",function(){return{templateUrl:"app/doc/templates/menu.html"}}).directive("indexDirective",function(){return{link:function(a,b){var c=b.parent()[0];if(c){var d=[[],[],[],[],[],[]],e=["H1","H2","H3","H4","H5","H6"],f=c.querySelectorAll("h1, h2, h3, h4, h5, h6");if(!(f.length<=1)){for(var g=0;g<f.length;g++){var h=f[g],i=e.indexOf(h.tagName);-1!==i&&d[i].push(h)}var j=document.createDocumentFragment(),k=document.createElement("ul");k.classList.add("index");var l=document.createElement("li");l.innerHTML="In this document",l.classList.add("title"),k.appendChild(l);for(var m=0;m<f.length;m++){l=document.createElement("li");var n=document.createElement("a");n.href="#"+f[m].id,n.innerHTML=f[m].innerHTML,l.appendChild(n),k.appendChild(l)}j.appendChild(k),jQuery(d[0][0]).after(j)}}}}}),angular.module("cocoonjsApp").directive("httpPrefix",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(a){return a&&!/^(http):\/\//i.test(a)&&-1==="http://".indexOf(a)&&a&&!/^(https):\/\//i.test(a)&&-1==="https://".indexOf(a)?(d.$setViewValue("http://"+a),d.$render(),"http://"+a):a}d.$formatters.push(e),d.$parsers.push(e)}}}),angular.module("cocoonjsApp").controller("androidKeyFormController",["$scope","UI_EVENTS","APP_EVENTS","$upload","URLS","Auth","$timeout",function(a,b,c,d,e,f,g){var h="android";a.key={},a.showForm=function(){a.displayForm=!0},a.hideForm=function(){a.displayForm=!1},a.notifyKeyFail=function(){a.$emit(c.newKeyFailed,h)},a.loadingKeyRequest=!1;var i=function(i){a.loadingKeyRequest=!0,a.$emit(b.requestSent);var j={title:a.key.title,alias:a.key.alias,passKeystore:a.key.keystorepass,passAlias:a.key.certpass};i.upload=d.upload({url:e.base+e.userKeys+h,method:"POST",headers:{Authorization:"Bearer "+f.getToken()},fields:{data:JSON.stringify(j)},file:i,fileFormDataName:"keystore"}),i.upload.then(function(b){a.loading=!1,a.loadingKeyRequest=!1,g(function(){a.submitted=!1,a.key=angular.copy({}),a.hideForm(),a.$emit(c.newKey,b.data,h)})},function(c){a.loadingKeyRequest=!1,a.loading=!1,a.showForm(),500===c.status?a.$emit(b.requestError,c.statusText):(console.log("request error adding key"),a.$emit(b.requestError,c.description)),a.notifyKeyFail()}),i.upload.progress(function(a){i.progress=Math.min(100,parseInt(100*a.loaded/a.total))}),i.upload.xhr(function(){})};a.addKey=function(c){a.submitted=!0,c&&c.$valid&&(null!=a.key.keystore[0]?(a.$emit(b.hideMessage),i(a.key.keystore[0],h)):a.key.file.$invalid=!0)}}]),angular.module("cocoonjsApp").directive("androidKeyForm",[function(){return{templateUrl:"app/keys/forms/android.form.tpl.html",controller:"androidKeyFormController"}}]),angular.module("cocoonjsApp").controller("iosKeyFormController",["$scope","keyService","UI_EVENTS","APP_EVENTS","Auth","URLS",function(a,b,c,d,e,f){var g="ios";a.key={},a.showForm=function(){a.displayForm=!0},a.hideForm=function(){a.displayForm=!1},a.notifyKeyFail=function(){a.$emit(d.newKeyFailed,g)};var h=function(b){a.loadingKeyRequest=!1;var e=b.currentTarget;if(200===e.status)a.$emit(c.hideMessage),a.$emit(d.newKey,JSON.parse(e.response),g),a.submitted=!1,a.key=angular.copy({}),a.hideForm();else{var f=JSON.parse(e.response);a.$emit(c.requestError,f.description),a.notifyKeyFail()}a.$apply()},i=function(b){a.loadingKeyRequest=!1;var d=b.currentTarget;a.$emit(c.requestError,d.error),a.notifyKeyFail()},j=function(b){a.loadingKeyRequest=!0;var c=new XMLHttpRequest,d=new FormData,j={title:b.title,pass:b.password};c.onloadend=h,c.error=i,c.open("POST",f.base+f.userKeys+g,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Authorization","Bearer "+e.getToken()),d.append("provisioning",b.provisioning[0]),d.append("p12",b.certificate[0]),d.append("data",JSON.stringify(j)),c.send(d)};a.addKey=function(b){a.submitted=!0,b&&b.$valid?null!=a.key.provisioning[0]&&null!=a.key.certificate[0]?(a.$emit(c.hideMessage),j(a.key,g)):a.key.file.$invalid=!0:console.log("invalid")}}]),angular.module("cocoonjsApp").directive("iosKeyForm",[function(){return{templateUrl:"app/keys/forms/ios.form.tpl.html",controller:"iosKeyFormController"}}]),angular.module("cocoonjsApp").service("keyService",["$q","URLS","$http","$upload","Auth",function(a,b,c,d,e){this.getKeys=function(d){var f=d||angular.noop,g=a.defer();return c.get(b.base+b.userKeys,{headers:{Authorization:"Bearer "+e.getToken()}}).success(function(a){return g.resolve(a),f()}).error(function(a){return g.reject(a),f(a)}.bind(this)),g.promise},this.deleteKey=function(d,f){var g=f||angular.noop,h=a.defer();return c["delete"](b.base+b.userKeys+d,{headers:{Authorization:"Bearer "+e.getToken()}}).success(function(a){return h.resolve(a),g()}).error(function(a){return h.reject(a),g(a)}.bind(this)),h.promise}}]),angular.module("cocoonjsApp").controller("projectKeyController",["$scope","User","UI_EVENTS","ProjectdetailService","APP_EVENTS","AUTH_EVENTS",function(a,b,c,d,e,f){function g(b,c){for(var d=a.userKeys[c],e=0;e<d.length;++e)if(d[e].id===b)return d[e]}function h(b,f){a.changingKeyRequest[f]=!0,d.removeKey(a.project.id,b).then(function(){a.changingKeyRequest[f]=!1,a.project.keys[f]=[],a.$emit(e.stopPolling)})["catch"](function(b){a.changingKeyRequest=!1,b.data&&b.data.description&&a.$emit(c.keyError,b.data.description),a.selectKey(f),console.log(b)})}function i(b,f){a.changingKeyRequest[f]=!0,d.assignKey(a.project.id,b).then(function(){a.changingKeyRequest[f]=!1;var c=g(b,f);a.project.keys[f]=c?[c]:[],a.$emit(e.stopPolling)})["catch"](function(b){a.changingKeyRequest[f]=!1,b.data&&b.data.description&&a.$emit(c.keyError,b.data.description),a.selectKey(f),console.log(b)})}var j=b.getUser();a.changingKeyRequest={},a.selectedKey=[],a.selectedPlatform="android",a.$on(f.loginSuccess,function(){var c=b.getUser();a.userKeys=c.keys}),j.keys&&(a.userKeys=j.keys),a.selectKey=function(b){var c=a.project.keys[b];a.selectedKey[b]=c&&c.length?c[0].id:""},a.selectPlatform=function(b){a.selectedPlatform=b,a.selectKey(b)},a.assignKey=function(b,c){if("addkey"!==b){var d=a.project.keys[c];if(""===b){if(!d||0===d.length)return;h(d[0].id,c)}else{if(d&&d.length>0&&d[0].id===b)return;i(b,c)}}},a.$on(e.newKey,function(c,d,e){a.userKeys[e]||(a.userKeys[e]=[]),a.userKeys[e].push(d),"addkey"===a.selectedKey[e]&&(i(d.id,e),a.selectedKey[e]=d.id),b.saveKeys(a.userKeys)}),a.$on(e.newKeyFailed,function(b,c){a.selectKey(c)})}]),angular.module("cocoonjsApp").directive("projectKey",[function(){return{controller:"projectKeyController",templateUrl:"app/keys/project/projectkey.tpl.html"}}]),angular.module("cocoonjsApp").controller("userKeysController",["$scope","keyService","UI_EVENTS","APP_EVENTS","$mdDialog","User","AUTH_EVENTS",function(a,b,c,d,e,f,g){a.loading=!1,a.deletingKeys={},a.selectedPlatform="android",a.selectPlatform=function(b){a.selectedPlatform=b};var h={},i=function(){h=f.getUser(),f.hasKeys()?f.hasKeys("android")?f.hasKeys("ios")||(h.keys.ios=[]):h.keys.android=[]:h.keys={android:[],ios:[]},a.keys=h.keys};i(),a.$on(g.loginSuccess,function(){i()}),a.deletekeyRequest=function(b){e.show({controller:"deleteKeyDialogController",templateUrl:"app/keys/deletekey.tpl.html"}).then(function(c){c&&a.deleteKey(b)})},a.deleteKey=function(d){a.loading=!0,a.deletingKeys[d]=!0,b.deleteKey(d).then(function(){a.loading=!1,delete a.deletingKeys[d],h=f.deleteKey(d),a.keys=h.keys})["catch"](function(b){a.loading=!1,delete a.deletingKeys[d],a.$broadcast(c.requestError,b.description),404===b.code&&(h=f.deleteKey(d)),a.keys=h.keys,f.createUser(h)})},a.$on(c.requestSent,function(){a.loading=!0}),a.$on(d.newKey,function(b,c,d){a.loading=!1,a.keys[d].push(c),h.keys=a.keys})}]).controller("deleteKeyDialogController",["$scope","$mdDialog",function(a,b){a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.confirm=function(a){b.hide(a)}}]),angular.module("cocoonjsApp").directive("userKeys",[function(){return{controller:"userKeysController",templateUrl:"app/keys/user/userkeys.tpl.html"}}]),angular.module("cocoonjsApp").config(["$routeProvider",function(a){a.when("/home",{templateUrl:"app/projects/projects.html",controller:"ProjectsCtrl",authenticate:!0})}]),angular.module("cocoonjsApp").controller("maintenanceController",["$rootScope","AUTH_EVENTS","Auth",function(a,b,c){c.logout().then(function(){a.$broadcast(b.logoutSuccess)})["catch"](function(){a.$broadcast(b.logoutSuccess)})}]),angular.module("cocoonjsApp").config(["$routeProvider",function(a){a.when("/maintenance",{templateUrl:"app/maintenance/maintenance.tpl.html",controller:"maintenanceController"})}]),angular.module("cocoonjsApp").controller("itemMsgController",["$scope","UI_EVENTS",function(a,b){a.$on(b.requestError,function(b,c){a.msg=c,a.show=!0}),a.$on(b.requestSuccess,function(b,c){a.success=!0,a.msg=c,a.show=!0}),a.$on(b.hideMessage,function(){a.show=void 0}),a.dismiss=function(){a.show=void 0}}]).directive("itemMsg",function(){return{templateUrl:"app/messaging/message.html",controller:"itemMsgController"}}).controller("keyMsgController",["$scope","UI_EVENTS",function(a,b){a.$on(b.keyError,function(b,c){a.msg=c,a.show=!0}),a.$on(b.requestSuccess,function(b,c){a.success=!0,a.msg=c,a.show=!0}),a.$on(b.hideMessage,function(){a.show=void 0}),a.dismiss=function(){a.show=void 0}}]).directive("keyMsg",function(){return{templateUrl:"app/messaging/message.html",controller:"keyMsgController"}}),angular.module("cocoonjsApp").controller("newsFeedController",["$scope","newsService",function(a,b){a.newsList=[],b.query().$promise.then(function(b){a.newsList=b})}]).service("newsService",["$resource",function(a){return a("/api/news/",{},{query:{method:"GET",isArray:!0}})}]).filter("cut",function(){return function(a,b,c){return a.length>b&&(a=a.substring(0,b+1),a=a.substring(0,Math.min(a.length,a.lastIndexOf(" "))),a+=c),a}}).filter("htmlToPlaintext",function(){return function(a){return String(a).replace(/<[^>]+>/gm,"")}}).directive("newsFeed",function(){return{templateUrl:"app/newsfeed/newsfeed.html",controller:"newsFeedController"}}),angular.module("cocoonjsApp").service("Project",["Auth",function(a){this.forceWaiting=function(a){for(var b=a.platforms,c=0;c<b.length;++c)a.status[b[c]]&&-1!==a.status[b[c]].indexOf("waiting")||(a.status[b[c]]="waiting");return a},this.isUpdateable=function(a){for(var b in a.status){var c=a.status[b];if(c.indexOf("waiting")>-1||c.indexOf("compiling")>-1)return!0}return!1},this.formatForView=function(b){for(var c="?access_token="+a.getToken(),d=0;d<b.platforms.length;++d)b.status[b.platforms[d]]||(b.status[b.platforms[d]]="disabled");b.icon.indexOf(c)<0&&(b.icon=b.icon+c),void 0!==b.origin&&"git"===b.origin.type&&b.origin.url.indexOf("https://github.com/CocoonIO")>-1&&(b.origin.type="zip",delete b.origin.url);var e;return e=b.date_updated&&b.date_compiled?b.date_updated>b.date_compiled?b.date_updated:b.date_compiled:b.date_updated?b.date_updated:b.date_created,b.lastUsed=e,b},this.updateOldProject=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},this.renderString=function(a,b){return a.render[b]?b+" "+a.render[b].status+" "+(a.render[b].devapp||""):void 0}}]),angular.module("cocoonjsApp").directive("cardBig",function(){return{templateUrl:"app/projects/card/big/big.html"}}),angular.module("cocoonjsApp").controller("CardCtrl",["$scope","$upload","Auth","URLS","$timeout","APP_EVENTS","$mdDialog","ProjectdetailService","$location","UI_EVENTS","$rootScope","$analytics","MeService","ProjectListService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){i.url().indexOf("project")>-1?a.big=!0:a.big=!1,a.warnProjectLimit=function(){g.show({controller:"projDialogController",templateUrl:"app/projects/create/project_limit/projectLimit.tpl.html"})},a.getPlan=function(){return m.get(function(b){a.me=b}),a.me.plan.name},a.reachedMaxProjects=function(){switch(a.getPlan()){case"gold":return a.projects.length>=50;case"silver":return a.projects.length>=10;case"free":return a.projects.length>=2;default:return!1}},a.status="status_start",a.showConfirm=function(a){k.$broadcast(j.hideMessage),g.show({controller:"projDialogController",templateUrl:"app/projects/confirmUpdate.tpl.html",targetEvent:a}).then(function(a){a&&n()})},a.resetStatus=function(){a.status="status_start"},a.forceBuild=function(b){k.$broadcast(j.hideMessage);var c=!1;for(var d in a.project.status){var e=a.project.status[d];if("waiting"===e||"compiling"===e){c=!0;break}}var f={};return k.$broadcast("hasXMLChanged",f),f.result?void g.show({controller:"customDialogController",templateUrl:"app/projects/card/common/unsavedxml.tpl.html"}).then(function(c){c&&a.forceBuildConfirmed(b)}):void(c?g.show({controller:"customDialogController",templateUrl:"app/projects/card/common/ongoingdialog.tpl.html"}).then(function(c){c&&a.forceBuildConfirmed(b)}):a.forceBuildConfirmed(b))},a.forceBuildConfirmed=function(b){a.force=!0,h.forceBuild(b).then(function(){a.force=!1,a.$emit(f.startPolling,b)},function(b){a.force=!1,a.status="status_failed",a.$broadcast(f.fileUploadError,b.data.description),console.log(b)})},a.$on(j.fileSelected,function(a,b){angular.noop(a),n(b)}),a.$on(j.gitSyncFailed,function(b,c){a.status="status_failed",a.$emit(f.gitSyncFailed,c)}),a.$on(f.projectsLoadFailed,function(b,c){"loading"===a.cardMode&&(a.status="status_failed",a.$broadcast(f.projectsLoadFailed,c))}),a.sourceLink=function(){var b=a.project;return b&&b.source?b.source+"?access_token="+c.getToken():"#"},a.validate=function(a){if(a.name&&/[.]zip$/.test(a.name))return!0;var b=a.type;if(!b)return!0;var c=["application/zip","multipart/x-zip","application/x-compressed","application/x-zip-compressed"];return-1!==c.indexOf(b.toLowerCase())};var n=function(e){e?a.file=e:e=a.file,a.project||l.eventTrack("create new project start");var g=a.project?a.project.id:"";e.upload=b.upload({url:d.base+d.projectList+g,method:""===g?"POST":"PUT",headers:{Authorization:"Bearer "+c.getToken()},file:e}),e.upload.then(function(b){a.status="status_start",a.$emit(f.fileUploadSuccess,{update:a.project?!0:!1,response:b.data}),a.project&&(a.project.uploadInfo={when:Date.now()}),a.project&&h.getConfigXml(a.project.config).then(function(b){a.$emit(f.checkXmlUpdate,b.data)})})["catch"](function(b){a.status="status_failed",a.$emit(f.fileUploadError,b.data.description),a.project&&(a.project.uploadInfo=null)}),e.upload.progress(function(b){a.status="status_uploading",e.progress=Math.min(100,parseInt(100*b.loaded/b.total)),a.progress=e.progress,100===a.progress&&(a.status="status_processing")}),e.upload.xhr(function(a){a.upload.addEventListener("abort",function(){console.log("abort complete")},!1)})};a.$watch("file",function(b){if(null!=b&&b.length>0){a.file=b;var e=c.getRefreshToken();e||i.path("/login");var g=new XMLHttpRequest;g.onload=function(d){var e=JSON.parse(d.target.response);c.setToken(e),a.project?a.showConfirm():n(b)},g.onerror=function(b){a.status="status_failed",a.$emit(f.fileUploadError,"There was an error. Please, try to refresh the current page"),console.log(b)},g.open("GET",d.refreshTokenURL+"?rToken="+e,!0),g.send()}}),a.getWPName=window.CocoonUtils.getWPName,a.getProjectTitle=function(){return a.project?a.project.title:"Create New"}}]).controller("projDialogController",["$scope","$mdDialog",function(a,b){a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.confirm=function(a){b.hide(a)}}]),angular.module("cocoonjsApp").directive("projectCard",function(){return{templateUrl:"app/projects/card/card.html"}}),function(){function a(a){switch(a){case"ios":return"apple";case"amazon":return"fireos";case"wp8":return"windows";case"blackberry10":return"blackberryos";default:return a}}angular.module("cocoonjsApp").controller("appIconsController",["$scope","$mdDialog","$rootScope","Auth","$filter",function(b,c,d,e,f){b.displayError=function(a){var d=b.project;d.error&&d.error.hasOwnProperty(a)&&c.show({controller:"errorLogDialogController",templateUrl:"app/projects/card/common/compilationError.tpl.html",locals:{platform:a,error:d.error[a]}})},b.isDevapp=function(a){return b.project.devapp.indexOf(a)>=0},b.statusCSS=function(c){var d=b.getStatus(c),e=a(c);
e+=" "+d;var f=b.isDevapp(c)?" devapp":"";return e+=f},b.platformCSS=function(b){return a(b)},b.getStatus=function(a){var c=b.project;return c.error&&c.error.hasOwnProperty(a)?"error":b.project.status[a]||"waiting"},b.downloadLink=function(a){var c=b.project;return c.download.hasOwnProperty(a)?c.download[a]+"?access_token="+e.getToken():"#"},b.tooltipMessage=function(a){var c=b.getStatus(a),d=b.isDevapp(a)?" devapp":"",e=f("platformfilter")(a);return c.indexOf("error")>=0?e+d+" compilation failed":c.indexOf("disabled")>=0?"No "+e+d+" compilation available":e+d+" "+c}}]).controller("errorLogDialogController",["$scope","$mdDialog","platform","error","$sce",function(a,b,c,d,e){a.platform=c,a.error=e.trustAsHtml(d),a.confirm=function(){b.hide()}}])}(),angular.module("cocoonjsApp").directive("ldProjectIcons",function(){return{templateUrl:"app/projects/card/common/appicons.tpl.html",controller:"appIconsController"}}),angular.module("cocoonjsApp").filter("capitalize",function(){return function(a){return null!==a?(a=a.toLowerCase(),a.substring(0,1).toUpperCase()+a.substring(1)):void 0}}),angular.module("cocoonjsApp").controller("claimdropController",["$scope","$timeout","UI_EVENTS","APP_EVENTS","ProjectdetailService","$rootScope",function(a,b,c,d,e,f){a.fileSelected=function(b){b[0]&&a.$emit(c.fileSelected,b[0])},a.syncingGit=!1,a.syncSucceeded=!1,a.syncGit=function(){a.syncingGit=!0,a.syncSucceeded=!1;var g=a.project.origin.url,h=a.project.origin.branch;e.syncGithub(a.project.id,g,h).then(function(a){return e.getConfigXml(a.data.config)}).then(function(c){a.syncingGit=!1,a.syncSucceeded=!0,f.$broadcast(d.checkXmlUpdate,c.data),a.syncTimeout=b(function(){a.syncSucceeded=!1},3e3)})["catch"](function(b){a.syncingGit=!1,a.syncSucceeded=!1,b.data&&b.data.description&&a.$emit(c.gitSyncFailed,b.data.description)})}}]),angular.module("cocoonjsApp").directive("ldClaimDrop",function(){return{templateUrl:"app/projects/card/common/claimdrop.tpl.html"}}),angular.module("cocoonjsApp").directive("ldForceCompile",function(){return{templateUrl:"app/projects/card/common/forcecompile.tpl.html"}}),angular.module("cocoonjsApp").filter("platformfilter",function(){return function(a){return a.indexOf("apple")>=0||a.indexOf("ios")>=0?"iOS":a.substring(0,1).toUpperCase()+a.substring(1)}}),angular.module("cocoonjsApp").directive("ldImgonload",function(){return{restrict:"A",link:function(a,b){b.bind("load",function(){b.removeClass("default")})}}}),angular.module("cocoonjsApp").directive("cardSmall",function(){return{templateUrl:"app/projects/card/small/small.html"}}),angular.module("cocoonjsApp").directive("createProject",function(){return{templateUrl:"app/projects/create/create-project.html"}}),angular.module("cocoonjsApp").filter("filesizeFilter",function(){return function(a){var b="";if(!a)return b;if(1024>a)b=a+" bytes";else{var c=Math.floor(a/1024);if(1024>c){var d=c.toFixed(1).toString();b=-1!==d.indexOf(".0")?d.substring(0,d.length-2)+" Kb":c.toFixed(1)+" Kb"}else{var e=Math.floor(a/1024/1024),f=e.toFixed(1).toString();b=-1!==f.indexOf(".0")?f.substring(0,f.length-2)+" Mb":e.toFixed(1)+" Mb"}}return b}}),angular.module("cocoonjsApp").controller("createFromGithubController",["$scope","$mdDialog","UI_EVENTS","APP_EVENTS","$analytics",function(a,b,c,d,e){a.openForm=function(){e.eventTrack("create new project start"),b.show({controller:"createFromGithubDialogController",templateUrl:"app/projects/create/github/creategithub.tpl.html"}).then(function(b){b&&a.$emit(d.gitProjectCreated,b)})}}]).controller("createFromGithubDialogController",["$scope","$mdDialog","$http","URLS","Auth","UI_EVENTS",function(a,b,c,d,e,f){a.gh={},a.confirm=function(c){c===!1&&(a.githubRequest=!1,b.hide())},a.requestGithubCreation=function(g){if(a.submitted=!0,g.$valid){a.githubRequest=!0;var h={url:a.gh.customUrl};a.gh.branchTag&&(h.branch=a.gh.branchTag),c.post(d.base+d.createGithub,h,{headers:{Authorization:"Bearer "+e.getToken()}}).success(function(a){b.hide(a)}).error(function(b){a.githubRequest=!1,b&&b.description&&a.$emit(f.requestError,b.description)})}}}]),angular.module("cocoonjsApp").directive("ldGithubForm",function(){return{templateUrl:"app/projects/create/github/github.form.tpl.html"}}),angular.module("cocoonjsApp").service("githubService",["$http","Auth","$q","URLS",function(a,b,c,d){this.postProject=function(e,f){var g=f||angular.noop,h=c.defer();return angular.noop(g),a.post(d.base+d.createGithub,e,{headers:{Authorization:"Bearer "+b.getToken()}}).success(function(a){return h.resolve(a),g()}).error(function(a){return h.reject(a),g(a)}),h.promise}}]),angular.module("cocoonjsApp").directive("ghUrl",function(){return{require:"ngModel",link:function(a,b,c,d){d.$validators.ghurl=function(a,b){return d.$isEmpty(a)?!0:b.indexOf("github.com")>=0&&b.indexOf(".git")>=0?!0:!1}}}}),angular.module("cocoonjsApp").controller("web2AppController",["$scope","$mdDialog","APP_EVENTS","$analytics",function(a,b,c,d){angular.noop(a,b,c),a.openForm=function(){d.eventTrack("create new project start"),b.show({controller:"web2AppDialogController",templateUrl:"app/projects/create/web2app/web2app.tpl.html"}).then(function(b){b&&a.$emit(c.gitProjectCreated,b)})}}]).controller("web2AppDialogController",["$scope","$mdDialog","githubService","ProjectdetailService","User","UI_EVENTS","APP_EVENTS",function(a,b,c,d,e,f,g){a.form={},a.confirm=function(a){a===!1&&b.hide()},a.requestWeb2AppCreation=function(h){if(a.processing=!0,a.$emit(f.hideMessage),!h.$valid)return a.submitted=!0,void(a.processing=!1);var i={url:"https://github.com/CocoonIO/cocoon-template-url.git"};c.postProject(i).then(function(c){d.getConfigXml(c.config).then(function(f){var h=e.getUser(),i=new window.XMLSugar(f.data);i.setValue("author",h.name+" "+(h.lastname||""));var j=i.getNodeValue("author");j.setAttribute("email",h.email);var k=a.gh.web2appUrl,l=document.createElement("a");l.href=k;var m=l.hostname?l.hostname.toLowerCase():"example.web2app.com",n=m.split(".");n.length<=2&&n.push("com");var o=n.reverse().join(".");i.setValue("name",m),c.title=k,i.setContentURL(a.gh.web2appUrl),i.setBundleId(o);var p=new Blob([i.xml()],{type:"text/xml"});p.filename="config.xml",d.putConfigXml(c.config,p).then(function(){a.processing=!1,b.hide(c),a.$broadcast(g.gitProjectCreated,c)})["catch"](function(){a.processing=!1})})["catch"](function(b){a.processing=!1,console.error(b)})})["catch"](function(b){a.processing=!1,b&&b.description&&a.$emit(f.requestError,b.description),console.error(b)})}}]).directive("httpPrefix",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(a){return a&&!/^(http):\/\//i.test(a)&&-1==="http://".indexOf(a)&&a&&!/^(https):\/\//i.test(a)&&-1==="https://".indexOf(a)?(d.$setViewValue("http://"+a),d.$render(),"http://"+a):a}d.$formatters.push(e),d.$parsers.push(e)}}}),angular.module("cocoonjsApp").service("newProjectTemplateService",["$http","URLS","$q","Auth",function(a,b,c,d){this.getTemplates=function(e){var f=e||angular.noop,g=c.defer();return angular.noop(f),a.get(b.base+b.templates,{headers:{Authorization:"Bearer "+d.getToken()}}).success(function(a){return g.resolve(a),f()}).error(function(a){return g.reject(a),f(a)}),g.promise}}]),angular.module("cocoonjsApp").controller("stepOneGithubController",["$scope","UI_EVENTS",function(a,b){a.loading=!0,a.$emit(b.wizardStepOneInvalid),a.checkContent=function(){a.gh.customUrl&&a.gh.customUrl.indexOf("github.com")>=0&&a.gh.customUrl.indexOf(".git")>=0?(console.log("valid"),a.$emit(b.wizardStepOneValid)):a.$emit(b.wizardStepOneInvalid)}}]),angular.module("cocoonjsApp").directive("ldStepOneGithub",function(){return{templateUrl:"app/projects/create/wizard/step1/step1.github.tpl.html",controller:"stepOneGithubController"}}),angular.module("cocoonjsApp").controller("stepOneTemplatesController",["$scope","newProjectTemplateService","APP_EVENTS",function(a,b,c){a.templates={},a.loading=!0,a.selectTemplate=function(b){a.selected=a.templates[b],a.$emit(c.wizardStepOne,a.selected)},b.getTemplates().then(function(b){a.loading=!1,a.templates=b,a.templates.index=a.templates[0].name,a.selectTemplate(0)})["catch"](function(b){a.loading=!1,a.error=!0,console.error(b)})}]),angular.module("cocoonjsApp").directive("ldStepOneTemplates",function(){return{templateUrl:"app/projects/create/wizard/step1/step1.templates.tpl.html",controller:"stepOneTemplatesController"}}),angular.module("cocoonjsApp").controller("stepOneUrlController",["$scope","UI_EVENTS",function(a,b){a.loading=!0,a.$emit(b.wizardStepOneInvalid),a.checkContent=function(){if(a.gh.customContent){var c=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i;a.gh.customContent.match(c)?a.$emit(b.wizardStepOneValid):a.$emit(b.wizardStepOneInvalid)}},a.checkContent()}]),angular.module("cocoonjsApp").directive("ldStepOneUrl",function(){return{templateUrl:"app/projects/create/wizard/step1/step1.url.tpl.html",controller:"stepOneUrlController"}}),angular.module("cocoonjsApp").controller("stepOneZipController",["$scope","$upload","Auth","URLS","$timeout","APP_EVENTS","$mdDialog","ProjectdetailService","$location","UI_EVENTS",function(a,b,c,d,e,f,g,h,i,j){a.status="status_start",a.resetStatus=function(){a.status="status_start"},a.$on(j.fileSelected,function(a,b){angular.noop(a),k(b)}),a.validate=function(a){if(a.name&&/[.]zip$/.test(a.name))return!0;var b=a.type;if(!b)return!0;var c=["application/zip","multipart/x-zip","application/x-compressed","application/x-zip-compressed"];return-1!==c.indexOf(b.toLowerCase())};var k=function(e){e?a.file=e:e=a.file;var g=a.project?a.project.id:"";e.upload=b.upload({url:d.base+d.projectList+g,method:""===g?"POST":"PUT",headers:{Authorization:"Bearer "+c.getToken()},file:e}),e.upload.then(function(b){var c=b.data;h.getConfigXml(c.config).then(function(b){a.status="status_uploaded";var d={project:c,xml:b.data};a.$emit(j.wizardZipOk,d)})["catch"](function(a){console.error(a)})})["catch"](function(b){a.status="status_failed",a.$emit(f.fileUploadError,b.data.description)}),e.upload.progress(function(b){a.status="status_uploading",e.progress=Math.min(100,parseInt(100*b.loaded/b.total)),a.progress=e.progress,100===a.progress&&(a.status="status_processing")}),e.upload.xhr(function(a){a.upload.addEventListener("abort",function(){console.log("abort complete")},!1)})};a.$watch("file",function(b){null!=b&&b.length>0&&(a.file=b,a.project?a.showConfirm():k(b))})}]),angular.module("cocoonjsApp").directive("ldStepOneZip",function(){return{templateUrl:"app/projects/create/wizard/step1/step1.zip.tpl.html",controller:"stepOneZipController"}}),angular.module("cocoonjsApp").controller("wizardStepOneController",["$scope","UI_EVENTS","APP_EVENTS","githubService","ProjectdetailService","User","URLS",function(a,b,c,d,e,f,g){a.origin="template";var h,i;a.gh={},a.disabled=!0,a.processing=!1,a.resetValidation=function(){a.disabled=!0},a.$on(c.wizardStepOne,function(b,c){angular.noop(b),a.disabled=!1,h=c}),a.$on(b.wizardStepOneValid,function(){a.disabled=!1}),a.$on(b.wizardStepOneInvalid,function(){a.disabled=!0}),a.$on(b.wizardZipOk,function(b,c){angular.noop(b),a.disabled=!1,i=c});var j=function(c){return c.url&&c.url.indexOf("github.com")>=0&&c.url.indexOf(".git")>=0?(a.processing=!0,void d.postProject(c).then(function(c){e.getConfigXml(c.config).then(function(d){var e=f.getUser(),g=new window.XMLSugar(d.data);g.setValue("author",e.name+" "+(e.lastname||""));var h=g.getNodeValue("author");h.setAttribute("email",e.email);var i={project:c,xml:g.xml()};a.processing=!1,a.$emit(b.nextStep,i)})["catch"](function(b){a.processing=!1,console.error(b)})})["catch"](function(c){a.processing=!1;var d=c.description;4938===c.code&&(d=c.description+' Please consider <a href="https://cocoon.io/pricing"> upgrading your account.</a>'),a.$emit(b.wizardError,d),console.error(c)})):void a.$emit(b.wizardError,"Github URL contains github.com and ends with .git extension")},k=function(c){var h={url:"https://github.com/CocoonIO/cocoon-template-url.git"};return c?(a.processing=!0,void d.postProject(h).then(function(d){e.getConfigXml(d.config).then(function(e){var g=f.getUser(),h=new window.XMLSugar(e.data);h.setContentURL(c),h.setValue("author",g.name+" "+(g.lastname||""));var i=h.getNodeValue("author");i.setAttribute("email",g.email);var j={project:d,xml:h.xml()};a.processing=!1,a.$emit(b.nextStep,j)})["catch"](function(b){a.processing=!1,console.error(b)})})["catch"](function(c){a.processing=!1;var d=c.description;4938===c.code&&(d=c.description+' Please consider <a href="'+g.base+g.pricing+'"> upgrading your account.</a>'),a.$emit(b.wizardError,d),console.error(c)})):void a.$emit(b.wizardError,"URL is missing")},l=function(){a.$emit(b.nextStep,i)};a.next=function(){switch(a.processing=!0,a.origin){case"template":var b={url:h.github_url};j(b);break;case"github":var c=a.gh;c.url=c.customUrl,delete c.customUrl,j(c);break;case"url":k(a.gh.customContent);break;case"zip":l()}},a.cancel=function(){a.$emit(b.cancelWizard)}}]),angular.module("cocoonjsApp").directive("ldWizardStepOne",function(){return{templateUrl:"app/projects/create/wizard/step1/step1.tpl.html",controller:"wizardStepOneController"}}),angular.module("cocoonjsApp").controller("wizardStepTwoController",["$scope","UI_EVENTS",function(a,b){var c=a.project,d=new window.XMLSugar(a.project.xml);a.environments=["system webview","webviewplus","canvasplus"],a.environments.index=d.getEnvironment()+"",a.next=function(){d.setEnvironment(parseInt(a.environments.index)),c.xml=d.xml(),a.$emit(b.nextStep,c)},a.cancel=function(){a.$emit(b.cancelWizard)}}]),angular.module("cocoonjsApp").directive("ldWizardStepTwo",function(){return{templateUrl:"app/projects/create/wizard/step2/step2.tpl.html",controller:"wizardStepTwoController"}}),angular.module("cocoonjsApp").controller("wizardStepThreeController",["$scope","UI_EVENTS",function(a,b){var c=a.project;a.projectName=c.project.title,a.bundleId=c.project["package"],a.finish=function(){var d=new window.XMLSugar(c.xml);d.setBundleId(a.bundleId),d.setValue("name",a.projectName),c.project.title=a.projectName,c.project["package"]=a.bundleId,c.xml=d.xml(),a.$emit(b.wizardFinished,c)},a.cancel=function(){a.$emit(b.cancelWizard)},a.cancel=function(){a.$emit(b.cancelWizard)}}]),angular.module("cocoonjsApp").directive("ldWizardStepThree",function(){return{templateUrl:"app/projects/create/wizard/step3/step3.tpl.html",controller:"wizardStepThreeController"}}),angular.module("cocoonjsApp").controller("createFromWizardController",["$scope","$mdDialog","APP_EVENTS","$analytics",function(a,b,c,d){a.openWizard=function(){d.eventTrack("create new project start"),b.show({controller:"wizardMainController",templateUrl:"app/projects/create/wizard/wizard-main.tpl.html"}).then(function(b){b&&a.$emit(c.gitProjectCreated,b)})},a.$on(c.wizardCreation,a.openWizard)}]).controller("wizardMainController",["$scope","UI_EVENTS","$mdDialog","APP_EVENTS","ProjectdetailService",function(a,b,c,d,e){a.step=1,a.project=void 0,a.$on(b.nextStep,function(b,c){angular.noop(b),a.step<3&&(a.step+=1),a.project=c,a.$broadcast(d.initStep,c)}),a.$on(b.wizardError,function(b,c){angular.noop(b),console.log("error received"),a.error=!0,a.msg=c}),a.$on(b.cancelWizard,function(){a.project&&e["delete"](a.project.project.id),c.cancel()}),a.$on(b.wizardFinished,function(b,f){angular.noop(b);var g=new Blob([f.xml],{type:"text/xml"});g.filename="config.xml",a.processing=!0;var h=f.project.config;e.putConfigXml(h,g).then(function(){a.processing=!1,c.hide(f.project),a.$broadcast(d.gitProjectCreated,f.project)})["catch"](function(){a.processing=!1})})}]),function(){function a(a){var b=new DOMParser;this.doc=b.parseFromString(a,"text/xml"),this.serializer=new XMLSerializer;var c=this.doc.getElementsByTagName("widget")[0];c&&!c.getAttributeNS(m,"cocoon")&&c.setAttributeNS(m,"xmlns:cocoon",l),this.root=c,this.doc.root=c}function b(a,b,c){c=c||{};var d=b.parentNode;if(c.platform){if("platform"!==d.tagName||d.getAttribute("name")!==c.platform)return!1}else if(d!==a.root)return!1;if(c.tag&&c.tag!==b.tagName&&c.tag.indexOf("*")<0)return!1;if(c.attributes)for(var e=0;e<c.attributes.length;++e){var f=c.attributes[e];if(b.getAttribute(f.name)!==f.value)return!1}return!0}function c(a){return-1!==a.indexOf(":")}function d(a){if(!a)return null;var b=a.indexOf(":");return b>=0?a.slice(b+1):a}function e(a,b){if(c(b.tag)){var e="*"===b.tag[0]?"*":l;return a.getElementsByTagNameNS(e,d(b.tag))}return a.getElementsByTagName(b.tag||"*")}function f(a,c){c=c||{};for(var d=e(a,c),g=0;g<d.length;++g)if(b(a,d[g],c))return d[g];return c.platform&&c.fallback?(delete c.platform,f(a,c)):null}function g(a,c){c=c||{};for(var d=e(a,c),f=[],g=0;g<d.length;++g)b(a,d[g],c)&&f.push(d[g]);return f}function h(a,b){b.appendChild(new window.Text("\n"));var c=b.parentNode;do b.appendChild(new window.Text("    ")),c=c.parentNode;while(c);b.appendChild(a),a.setAttribute("xmlns",""),b.appendChild(new window.Text("\n"))}function i(a,b){if(!b)return a.root;var c=f(a,{tag:"platform",attributes:[{name:"name",value:b}]});return c||(c=document.createElementNS(null,"platform"),c.setAttribute("name",b),h(c,a.root)),c}function j(a,b,d){b=b||{};var e=f(a,b);if(!e){var g=i(a,b.platform);e=c(b.tag)?document.createElementNS(l,b.tag):document.createElementNS(null,b.tag),h(e,g)}if(angular.isDefined(d.value)&&(e.textContent=d.value||""),d.attributes)for(var j=0;j<d.attributes.length;++j){var k=d.attributes[j];null===k.value?e.removeAttribute(k.name):e.setAttribute(k.name,k.value)}}function k(a,b){var c=f(a,b);if(c&&c.parentNode){var d=c.parentNode;if(d.removeChild(c),"platform"===d.tagName&&d.parentNode){for(var e=d.childNodes,g=0;g<e.length;++g)if(3!==e[g].nodeType)return;d.parentNode.removeChild(d)}}}var l="http://cocoon.io/ns/1.0",m="http://www.w3.org/2000/xmlns/";a.Orientation={PORTRAIT:0,LANDSCAPE:1,BOTH:2,SYSTEM_DEFAULT:3},a.Environment={WEBVIEW:0,WEBVIEW_PLUS:1,CANVAS_PLUS:2},a.prototype={isErrored:function(){return this.doc.getElementsByTagName("parsererror").length>0||!this.root},xml:function(){var a=this.serializer.serializeToString(this.doc);return a=a.replace(/[ ]xmlns[=]["]["]/g,""),a=a.replace(/^\s*[\r\n]/gm,""),a=a.replace(/^[<][\/]platform[>]/gm,"    </platform>")},getBundleId:function(a,b){if(a){var c=p[a],d=this.root.getAttribute(c);if(d)return d;if(!b)return""}return this.root.getAttribute("id")},getVersion:function(a,b){if(a){var c=this.root.getAttribute(a+"-version");if(c)return c;if(!b)return"";this.getVersion(null)}return this.root.getAttribute("version")},getVersionCode:function(a,b){if(a){var c=q[a];if(c){var d=this.root.getAttribute(c);if(d)return d;if(!b||"android"===a)return"";this.getVersion(a)}}return this.root.getAttribute("version")},setBundleId:function(a,b){if(b){var c=p[b];if(c)return void(a?this.root.setAttribute(c,a):this.root.removeAttribute(c))}return this.root.setAttribute("id",a)},setVersion:function(a,b){if(b){var c=b+"-version";if(c)return void(a?this.root.setAttribute(c,a):this.root.removeAttribute(c))}return this.root.setAttribute("version",a)},setVersionCode:function(a,b){if(b){var c=q[b];if(c)return void(a?this.root.setAttribute(c,a):this.root.removeAttribute(c))}return this.root.setAttribute("version",a)},getNode:function(a,b,c){return f(this.doc,{tag:a,platform:b,fallback:c})},getValue:function(a,b,c){var d=this.getNode(a,b,c);return d?d.textContent:null},getNodeValue:function(a,b,c){var d=this.getNode(a,b,c);return d},setValue:function(a,b,c){j(this.doc,{platform:c,tag:a},{value:b})},removeValue:function(a,b){k(this.doc,{tag:a,platform:b})},getPreference:function(a,b,c){var d={tag:"preference",platform:b,attributes:[{name:"name",value:a}],fallback:c},e=f(this.doc,d);return e?e.getAttribute("value"):null},setPreference:function(a,b,c){var d={tag:"preference",platform:c,attributes:[{name:"name",value:a}]};if(b){var e={attributes:[{name:"name",value:a},{name:"value",value:b}]};j(this.doc,d,e)}else k(this.doc,d)},getCocoonVersion:function(){return this.getPreference("cocoon-version")},setCocoonVersion:function(a){this.setPreference("cocoon-version",a)},getOrientation:function(b,c){var d=this.getPreference("Orientation",b,c);return d?"portrait"===d?a.Orientation.PORTRAIT:"landscape"===d?a.Orientation.LANDSCAPE:a.Orientation.BOTH:a.Orientation.SYSTEM_DEFAULT},setOrientation:function(b,c){var d=null;b===a.Orientation.PORTRAIT?d="portrait":b===a.Orientation.LANDSCAPE?d="landscape":b===a.Orientation.BOTH&&(d="default"),this.setPreference("Orientation",d,c)},isFullScreen:function(a,b){var c=this.getPreference("Fullscreen",a,b);return c?"false"!==c:!1},setFullScreen:function(a,b){this.setPreference("Fullscreen",null===a?null:(!!a).toString(),b)},getCocoonPlatform:function(a){var b={tag:"cocoon:platform",attributes:[{name:"name",value:a}]};return f(this.doc,b)},getCocoonPlatformVersion:function(a){var b=this.getCocoonPlatform(a);return b?b.getAttribute("version"):null},setCocoonPlatformVersion:function(a,b){var c={tag:"cocoon:platform",attributes:[{name:"name",value:a}]};if(b){var d={attributes:[{name:"name",value:a},{name:"version",value:b}]};j(this.doc,c,d)}else k(this.doc,c)},isCocoonPlatformEnabled:function(a){var b={tag:"cocoon:platform",attributes:[{name:"name",value:a}]},c=f(this.doc,b);return c?"false"!==c.getAttribute("enabled"):!0},setCocoonPlatformEnabled:function(a,b){var c={tag:"cocoon:platform",attributes:[{name:"name",value:a}]},d={attributes:[{name:"enabled",value:b?null:"false"},{name:"name",value:a}]};j(this.doc,c,d)},getContentURL:function(a,b){var c={tag:"content",platform:a,fallback:b},d=f(this.doc,c);return d?d.getAttribute("src"):""},setContentURL:function(a,b){var c={tag:"content",platform:b};if(a){var d={attributes:[{name:"src",value:a}]};j(this.doc,c,d)}else k(this.doc,c)},addPlugin:function(a){var b={tag:"cocoon:plugin",attributes:[{name:"name",value:a}]},c={attributes:[{name:"name",value:a}]};j(this.doc,b,c)},removePlugin:function(a){var b={tag:"*:plugin",attributes:[{name:"name",value:a}]};k(this.doc,b)},findPlugin:function(a){var b={tag:"*:plugin",attributes:[{name:"name",value:a}]};return f(this.doc,b)},findAllPlugins:function(){var a={tag:"*:plugin"};return g(this.doc,a)},findPluginParameter:function(a,b){var c=this.findPlugin(a),d=null;if(c)for(var e=c.childNodes,f=0;f<e.length;++f)if(1===e[f].nodeType&&e[f].getAttribute("name")===b){d=window.decodeURIComponent(e[f].getAttribute("value"))||"";break}return d},addPluginParameter:function(a,b,c){this.addPlugin(a);var d=this.findPlugin(a);if(d){for(var e=d.childNodes,f=null,g=0;g<e.length;++g)if(1===e[g].nodeType&&e[g].getAttribute("name")===b){f=e[g];break}f||(f=document.createElementNS(null,"param"),f.setAttribute("name",b||""),h(f,d)),f.setAttribute("value",window.encodeURIComponent(c)||"")}},getEnvironment:function(b){if(!b){for(var c=[this.getEnvironment("ios"),this.getEnvironment("android")],d=1;d<c.length;++d)if(c[d]!==c[d-1])return a.Environment.WEBVIEW;return c[0]}for(var e=[n,o],f=a.Environment.WEBVIEW,g=0;g<e.length;++g){var h=e[g][b];if(h){var i=this.findPlugin(h.plugin);i&&(f=e[g].value)}}return f},setEnvironment:function(b,c){for(var d=c?[c]:["ios","android"],e=0;e<d.length;++e){var f,g=d[e];if(b===a.Environment.CANVAS_PLUS)f=n[g],f&&(this.addPlugin(f.plugin),this.removePlugin(o[g].plugin));else if(b===a.Environment.WEBVIEW_PLUS)f=o[g],f&&(this.addPlugin(f.plugin),this.removePlugin(n[g].plugin));else for(var h=[n,o],i=0;i<h.length;++i)f=h[i][g],f&&this.removePlugin(f.plugin)}},encode:function(a){return a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):a},decode:function(a){return a?a.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&"):a}},window.XMLSugar=a;var n={value:a.Environment.CANVAS_PLUS,ios:{plugin:"com.ludei.canvasplus.ios"},android:{plugin:"com.ludei.canvasplus.android"}},o={value:a.Environment.WEBVIEW_PLUS,ios:{plugin:"com.ludei.webviewplus.ios"},android:{plugin:"com.ludei.webviewplus.android"}},p={ios:"ios-CFBundleIdentifier",android:"android-packageName"},q={ios:"ios-CFBundleVersion",android:"android-versionCode"}}(),angular.module("cocoonjsApp").directive("projectAnalytics",function(){return{templateUrl:"app/projects/detail/analytics/analytics.html"}}),function(){function a(a,b,c){var d,e="";d="undefined"==typeof c?b:b+Math.floor(Math.random()*(c-b));for(var f=0;d>f;f++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}function b(a){var b,c,d=a.split(""),e=d.length;if(e)for(;--e;)c=Math.floor(Math.random()*(e+1)),b=d[c],d[c]=d[e],d[e]=b;return d.join("")}function c(){var c=a(d,1);return c+=a(e,1),c+=a(g,1),c+=a(f,1),c+=a(h,10,12),b(c)}angular.module("cocoonjsApp").controller("cipherController",["$scope","APP_EVENTS","User",function(a,b,d){function e(b){var c=b,d=new window.XMLSugar(b);if(!d.isErrored()){var e=a.cipher.key;e?d.addPluginParameter("com.ludei.cipher","PASSWORD",e):d.removePlugin("com.ludei.cipher"),c=d.xml()}return c}a.cipher={saving:!1,canCipher:!1,current:"",key:"",changed:function(){return this.current!==this.key}};var f=d.getUser(),g=f.plan?f.plan.name:"";("admin"===g||"gold"===g||"silver"===g)&&(a.cipher.canCipher=!0),a.cipherError=null,a.generateKey=function(){return a.cipher.key=c(),!1},a.resetKey=function(){a.cipher.key=a.cipher.current},a.goToPricing=function(){window.location.href="/pricing"},a.saveKey=function(){var b=e(a.pristineXML);a.cipher.saving=!0,a.saveConfigXmlFromParam(b,function(b){if(a.cipher.saving=!1,b)return void(a.cipherError=b);var c=e(a.rawXML);a.updateXML(c,!0),a.refreshKey(c)})},a.refreshKey=function(b){var c=new window.XMLSugar(b);if(!c.isErrored()){var d=c.findPluginParameter("com.ludei.cipher","PASSWORD")||"",e=a.cipher.changed();a.cipher.current=d,(!e||d&&!a.cipher.key)&&(a.cipher.key=d)}},a.refreshKey(a.rawXML),a.$on(b.xmlUpdated,function(b,c){a.refreshKey(c)}),a.$on(b.xmlSaved,function(b,c){a.refreshKey(c)}),a.dismissCipherError=function(){a.cipherError=null}}]);var d="!@#$%^&*()_+{}:\"<>?|[];',./`~",e="abcdefghijklmnopqrstuvwxyz",f="ABCDEFGHIJKLMNOPQRSTUVWXYZ",g="0123456789",h=d+e+f+g}(),angular.module("cocoonjsApp").directive("cipher",function(){return{templateUrl:"app/projects/detail/cipher/cipher.tpl.html",controller:"cipherController"}}),angular.module("cocoonjsApp").controller("devAppController",["$scope","APP_EVENTS","ProjectdetailService","UI_EVENTS","$mdDialog",function(a,b,c,d,e){a.awaitingForResponse=!1,a.triggerDevApp=function(b){var c=!1;for(var d in a.project.status){var f=a.project.status[d];if("waiting"===f||"compiling"===f){c=!0;break}}c?e.show({controller:"customDialogController",templateUrl:"app/projects/card/common/ongoingdialog.tpl.html"}).then(function(c){c&&a.triggerDevAppConfirmed(b)}):a.triggerDevAppConfirmed(b)},a.triggerDevAppConfirmed=function(){a.$broadcast(d.hideMessage);var e=a.project.id;a.$emit(b.stopPolling),a.awaitingForResponse=!0,c.compileDeveloperApp(e).then(function(){a.awaitingForResponse=!1,a.$emit(b.startPolling)})["catch"](function(b){a.awaitingForResponse=!1,a.$emit(d.requestError,b.description)})}}]),angular.module("cocoonjsApp").directive("devApp",function(){return{templateUrl:"app/projects/detail/devapp/devapp.tpl.html",controller:"devAppController"}}),function(){angular.module("cocoonjsApp").controller("migrationChecklistCtrl",["$scope","$mdDialog","$http","URLS","Auth",function(a,b,c,d,e){function f(){a.migratedPlugins=a.project.migration}a.migratedPlugins={},a.checklist={show:!0},a.openDialog=function(){b.show({controller:"closeChecklistDialogCtrl",templateUrl:"app/projects/detail/migration/closechecklistdialog.tpl.html",locals:{projectID:a.project.id,checklist:a.checklist}}).then(function(b){b&&(a.checklist.show=!1,c.get(d.base+d.projectDetail+a.project.id+d.checklist,{headers:{Authorization:"Bearer "+e.getToken()}}).success(function(a){console.log("data: ",a)}).error(function(a){console.log("error: ",a)}))})},a.openGuide=function(a){window.open(a,"_blank")},f()}]).controller("closeChecklistDialogCtrl",["$scope","$mdDialog",function(a,b){a.confirm=function(a){b.hide(a)}}])}(),angular.module("cocoonjsApp").directive("migrationChecklist",[function(){return{templateUrl:"app/projects/detail/migration/migrationchecklist.tpl.html",controller:"migrationChecklistCtrl"}}]),angular.module("cocoonjsApp").controller("ProjectdetailCtrl",["$scope","$rootScope","ProjectdetailService","UI_EVENTS","$routeParams","APP_EVENTS","$timeout","$mdDialog","xmlhelper","Project","$interval","$location",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}l.search().splash&&(a.data={},a.data.selectedIndex=3),a.pristineXML="",a.loadingXML=!0,a.renderString=j.renderString;var n;a.showConfirm=function(b){a.$broadcast(d.hideMessage),h.show({controller:"customDialogController",templateUrl:"app/projects/detail/delete.tpl.html",targetEvent:b}).then(function(b){b&&a["delete"]()})},a.showConfirmXml=function(b){a.$broadcast(d.hideMessage),h.show({controller:"customDialogController",templateUrl:"app/projects/detail/xml.tpl.html",targetEvent:b}).then(function(b){b&&a.saveConfigXml()})};var o=function(b){var c=new window.XMLSugar(b);a.project.title=c.getValue("name"),a.project.version=c.getVersion(),a.project["package"]=c.getBundleId()};a["delete"]=function(){a.attempt=!0,c["delete"](e.projectId).then(function(){g(function(){window.history.back()},2e3)})},a.isXMLChanged=function(){return a.rawXML&&a.rawXML!==a.pristineXML},a.updateXML=function(b,c){a.rawXML=b,c&&a.$broadcast(f.xmlUpdated,b,!0)},a.saveConfigXml=function(b){a.saveConfigXmlFromParam(a.rawXML,b)},a.saveConfigXmlFromParam=function(b,e){a.$broadcast(d.hideMessage);var g=new DOMParser,h=g.parseFromString(b,"text/xml");if(i.isParseError(h))return void(e&&e("Invalid config.xml format"));a.savingXml=!0;var j=new Blob([b],{type:"text/xml"});j.filename="config.xml",c.putConfigXml(a.project.config,j).then(function(){a.$broadcast(d.hideMessage),a.savingXml=!1,a.pristineXML=b,o(a.rawXML),a.$broadcast(f.xmlSaved,b),e&&e(null)},function(b){a.savingXml=!1,e&&e(b.data.description)})};var p=function(){c.get(a.project.id).then(function(b){var c=j.formatForView(b.data);j.isUpdateable(b.data)||k.cancel(n),j.updateOldProject(a.project,c)},function(a){console.error("Error refreshing project: "+a)})};c.get(e.projectId).then(function(b){a.className="fade-in","error"===b&&window.history.back(),a.project=j.formatForView(b.data),m(b.data.download)||(a.downloadLinks=b.data.download),a.project&&(c.getConfigXml(a.project.config).then(function(b){a.rawXML=b.data,a.pristineXML=b.data,a.loadingXML=!1}),c.getIcon(a.project.icon).then(function(b){a.iconFile=b})),j.isUpdateable(b.data)?n=k(p,1e4):k.cancel(n)})["catch"](function(){a.$broadcast(f.invalidUrl),console.log("now wil redirect"),g(function(){window.history.back()},2e3)}),a.$on("hasXMLChanged",function(b,c){angular.noop(b),c.result=a.rawXML&&a.rawXML!==a.pristineXML}),a.$on(f.startPolling,function(){var b=j.formatForView(j.forceWaiting(a.project));a.project=b,k.cancel(n),n=k(p,1e4)}),a.$on(f.stopPolling,function(){n&&k.cancel(n)}),a.$on(f.checkXmlUpdate,function(c,d){var e=a.isXMLChanged();e&&d!==a.pristineXML?h.show({controller:"customDialogController",templateUrl:"app/projects/card/common/conflictdialog.tpl.html"}).then(function(a){a||b.$broadcast(f.xmlUpdated,d)}):e||b.$broadcast(f.xmlUpdated,d)}),a.$on(f.xmlUpdated,function(b,c,d){d||(a.pristineXML=c,a.rawXML=c),o(c)}),a.$on(f.invalidUrl,function(){console.log("you'll be redirected in 3 seconds to your home")}),a.$on("$destroy",function(){n&&k.cancel(n)})}]),angular.module("cocoonjsApp").service("ProjectdetailService",["$http","URLS","Auth","$q","$upload","Project",function(a,b,c,d,e,f){
function g(a,b,c){var d=c&&c.lexicographical,e=c&&c.zeroExtend,f=a.split("."),g=b.split(".");if(e){for(;f.length<g.length;)f.push("0");for(;g.length<f.length;)g.push("0")}d||(f=f.map(Number),g=g.map(Number));for(var h=0;h<f.length;++h){if(g.length===h)return 1;if(f[h]!==g[h])return f[h]>g[h]?1:-1}return f.length!==g.length?-1:0}this.get=function(d){return a.get(b.base+b.projectList+d,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return f.setProject=a.data,a}).error(function(a){return console.error("Nope: "+a),"error"})},this.getConfigXml=function(b){return a.get(b,{headers:{Authorization:"Bearer "+c.getToken()},transformResponse:function(a,b,c){return 200===c?a:void this.reject()}}).success(function(a){return a}).error(function(a){console.error("Nope: "+a)})},this.getIcon=function(a){return d(function(b,d){var e=new XMLHttpRequest;e.onreadystatechange=function(a){if(4===this.readyState&&200===this.status){var c=a.target.response,e=window.URL.createObjectURL(c);b(e)}else 4===this.readyState&&d(a)},e.open("GET",a),e.setRequestHeader("Authorization","Bearer "+c.getToken()),e.responseType="blob",e.send()})},this.forceBuild=function(d){return a.post(b.base+b.projectList+d+b.forceBuild,"",{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a}).error(function(a){console.error("Nope: "+a)})},this.getCompilationResult=function(b){return a.get(b,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a})},this.deleteIcon=function(d,e){return a["delete"](b.base+b.projectList+d+b.icons+"/"+e,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a}).error(function(a){return a}).then(function(a){return a})},this.deleteSplash=function(d,e){return a["delete"](b.base+b.projectList+d+b.splash+"/"+e,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a}).error(function(a){return a}).then(function(a){return a})},this["delete"]=function(d){return a["delete"](b.base+b.projectList+d,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a}).error(function(a){return console.error("Nope: "+a),a}).then(function(a){return a})},this.putConfigXml=function(a,b){return e.upload({url:a,method:"PUT",headers:{Authorization:"Bearer "+c.getToken()},contentType:"multipart/form-data",file:b}).success(function(a){return a}).error(function(a){return console.error("Nope: "+a),a}).then(function(a){return a})},this.compileDeveloperApp=function(d){return a.post(b.base+b.projectList+d+b.devApp,"",{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a}).error(function(a){console.error("Nope: "+a)})},this.assignKey=function(d,e){return a.post(b.base+b.projectList+d+"/signkey/"+e,"",{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a}).error(function(a){return console.error("Nope: "+a),a}).then(function(a){return a})},this.removeKey=function(d,e){return a["delete"](b.base+b.projectList+d+"/signkey/"+e,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a}).error(function(a){return console.error("Nope: "+a),a}).then(function(a){return a})},this.syncGithub=function(d,e,f){var g={url:e};return f&&(g.branch=f),a.put(b.base+b.projectList+d+b.putGithub,g,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){return a}).error(function(a){return a})};var h;this.fetchCocoonVersions=function(){return d(function(d,e){return h?(d(h),h):a.get(b.base+b.versions,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){h=a,h.sort(function(a,b){return g(b.name,a.name)}),d(a)}).error(function(a){e(a)})})}}]),angular.module("cocoonjsApp").config(["$routeProvider",function(a){a.when("/projects/:projectId",{templateUrl:"app/projects/detail/project-detail.html",authenticate:!0})}]),angular.module("cocoonjsApp").controller("repositoryController",["$scope","APP_EVENTS","ProjectdetailService","UI_EVENTS","$rootScope",function(a,b,c,d,e){a.awaitingForResponse=!1,a.gitData={url:"",branch:""},a.resetGithub=function(){var b=a.project.origin;return b&&"git"===b.type?(a.gitData.url=b.url,a.gitData.branch=b.branch):(a.gitData.url="",a.gitData.branch=""),a.submitted=!1,a.githubRequest=!1,!1},a.resetGithub(),a.githubChanged=function(){var b=a.gitData;if(""===b.url)return!1;var c=a.project.origin,d=(b.url||"")!==(c.url||""),e=(b.branch||"")!==(c.branch||"");return d||e},a.requestUpdate=function(f){a.submitted=!0,f.$valid&&(a.githubRequest=!0,c.syncGithub(a.project.id,a.gitData.url,a.gitData.branch,!0).then(function(b){return a.project.origin.type="git",a.project.origin.url=a.gitData.url,a.project.origin.branch=a.gitData.branch,c.getConfigXml(b.data.config)}).then(function(c){a.githubRequest=!1,e.$broadcast(b.xmlUpdated,c.data)})["catch"](function(b){a.githubRequest=!1,b.data&&b.data.description&&a.$emit(d.requestError,b.data.description)}))}}]),angular.module("cocoonjsApp").directive("repository",function(){return{templateUrl:"app/projects/detail/repository/repository.tpl.html",controller:"repositoryController"}}),angular.module("cocoonjsApp").directive("sugarError",["$location",function(a){return{templateUrl:"app/projects/detail/tabs/sugarerror.tpl.html",link:function(b){b.sugarError={},b.clearSugarError=function(){b.sugarError.message=null,b.sugarError.title=null,b.sugarError.parseError=!1},b.showSugarError=function(a,c,d){b.sugarError.message=a,b.sugarError.title=c||"Operation failed",b.sugarError.parseError=!1,d&&(b.sugarError.billingError=!0)},b.showSugarParseError=function(){b.sugarError.message="Your XML contains errors, please fix them before editing its settings",b.sugarError.title="Parse error",b.sugarError.parseError=!0},b.goToBilling=function(){console.log(b.project),a.url("/me?billing&next="+b.project.id+"&tab=splash")},b.parseError&&b.showSugarParseError()}}}]),angular.module("cocoonjsApp").controller("TabdetailCtrl",["$scope",function(a){var b=["Settings","Plugins","Icons","Splash","config.xml"];a.tabTitles=b,a.data||(a.data={selectedIndex:0}),a.next=function(){a.data.selectedIndex=Math.min(a.data.selectedIndex+1,4)},a.previous=function(){a.data.selectedIndex=Math.max(a.data.selectedIndex-1,0)}}]),function(){angular.module("cocoonjsApp").controller("TabIconsCtrl",["$scope","APP_EVENTS","$upload","URLS","Auth","ProjectdetailService",function(a,b,c,d,e,f){function g(){this.downloading=!1,this.uploading=!1,this.deleting=!1,this.icon=null,this.name="",this.size=0,this.progress=0}function h(b){a.sugar=new window.XMLSugar(b);var c=a.sugar.isErrored();c&&(a.showSugarError?a.showSugarParseError():a.parseError=!0),a.selectPlatform(a.selectedPlatform);var d=a.sugar.root.getElementsByTagName("icon");a.showIconsWarning=d.length>0}function i(b,f){var g=d.base+d.projectList+a.project.id+"/icon/"+f,h=a.icons[f];h.uploading=!0,h.name=b.name,h.size=b.size,h.progress=0;var i=c.upload({url:g,method:"POST",headers:{Authorization:"Bearer "+e.getToken()},file:b});i.then(function(){h.uploading=!1;var b=a.project.icons[f]||(a.project.icons[f]={});b.url=g,a.selectedPlatform===f&&a.selectPlatform(f)})["catch"](function(b){h.uploading=!1,a.showSugarError(b.data.description)}),i.progress(function(a){h.progress=Math.min(100,parseInt(100*a.loaded/a.total))})}g.prototype={isSet:function(){return null!==this.icon||this.isLoading()},isLoading:function(){return this.uploading||this.downloading||this.deleting},isReady:function(){return null!==this.icon},isProcessing:function(){return this.downloading||this.deleting},getStyle:function(){return this.icon&&!this.isLoading()?"background-image: url("+this.icon+")":""}},a.platforms=["default","android","ios"],a.selectedPlatform=a.platforms[0],a.icons={},a.drop={files:null},a.showIconsWarning=!1;for(var j=0;j<a.platforms.length;++j)a.icons[a.platforms[j]]=new g;a.selectedIcon=a.icons[a.selectedPlatform],a.$on(b.xmlUpdated,function(b,c){h(c),a.selectPlatform(a.selectedPlatform)}),a.hideIconsWarning=function(){a.showIconsWarning=!1},a.selectPlatform=function(b){a.selectedPlatform=b;var c=a.project.icons[b],d=a.icons[b];a.selectedIcon=d,!d.isSet()&&c&&c.url&&(d.downloading=!0,f.getIcon(c.url).then(function(a){d.icon=a,d.downloading=!1})["catch"](function(b){d.downloading=!1,console.log(b),a.showSugarError(b.target.statusText)}))},a.isDefault=function(){return"default"===a.selectedPlatform},a.isPlatformSelected=function(b){return b===a.selectedPlatform},a.fileSelected=function(b){b.length>0&&i(b[0],a.selectedPlatform)},a.removeIcon=function(){var b=a.selectedIcon;b.deleting=!0;var c=a.selectedPlatform;f.deleteIcon(a.project.id,c).then(function(){b.icon=null,b.deleting=!1,delete a.project.icons[c]})["catch"](function(c){b.deleting=!1,a.showSugarError(c.data.description)})},a.validate=function(a){if(a.name&&/[.]png/.test(a.name))return!0;var b=a.type;if(!b)return!0;var c=["image/png"];return-1!==c.indexOf(b.toLowerCase())},a.$watch("drop.files",function(b){null!=b&&b.length>0&&i(b[0],a.selectedPlatform)}),h(a.rawXML)}])}(),angular.module("cocoonjsApp").directive("tabIcons",[function(){return{templateUrl:"app/projects/detail/tabs/tabicons.tpl.html",controller:"TabIconsCtrl"}}]),function(){function a(a,b){this.regex=a,this.title=b,this.optionTitle=b,this.children=[]}angular.module("cocoonjsApp").controller("TabPluginsCtrl",["$scope","APP_EVENTS","PluginsService",function(b,c,d){function e(a){if(a&&0!==a.length)for(var c=b.sugar.findAllPlugins(),d=0;d<a.length;++d){var e=a[d];e.installed=!1,e.installedVersion=null;for(var f=0;f<c.length;++f)c[f].getAttribute("name")===e.name&&(e.installed=!0,e.installedVersion=c[f].getAttribute("version"))}}function f(a){var c=b.versions;if(c.tags.splice(1),c.selected=c.tags[0],a){if(a.detail)for(var d in a.detail.versions)c.tags.splice(1,0,d);if(a.installedVersion){var e=c.tags.indexOf(a.installedVersion);0>e&&c.tags.splice(1,0,a.installedVersion),c.selected=a.installedVersion}}}function g(a){this.node=a}function h(a){if(b.pluginParameters=[],a){var c=b.sugar.findPlugin(a.name);if(c){for(var d=c.getElementsByTagName("param"),e=[],f=0;f<d.length;++f)e.push(new g(d[f]));b.pluginParameters=e}}}function i(a){var b=Math.floor((Date.now()-a.getTime())/1e3);return 60>b?b+" sec(s) ago":3600>b?Math.floor(b/60)+" min(s) ago":86400>b?Math.floor(b/3600)+" hour(s) ago":604800>b?Math.floor(b/86400)+" day(s) ago":a.toDateString()}function j(a){b.sugar=new window.XMLSugar(a);var c=b.sugar.isErrored();c&&(b.showSugarParseError?b.showSugarParseError():b.parseError=!0)}b.loadingPlugins=null,b.installedPlugins=[],b.pluginList=[],b.selectedPlugin=null,b.versions={tags:["latest"],selected:"latest"},b.pluginParameters=[],b.fetchPluginsError=null,b.menuOptions=["search","cocoon","core","custom","installed"],b.cocoonFilters=[],b.gitData={},b.customInstallMessage={show:!1};var k=new a(null,"All");k.add(/[-]inapps/g,"In-App Purchases");var l=k.add(/[-]ads/g,"Ads");l.add(/[-]mopub$/g,"MoPub SDK"),l.add(/[-]mopub[-][\w]+$/g,"MoPub Adapters"),l.add(/[^b][-]admob$/g,"AdMob SDK"),l.add(/[-]admob[-][\w]+$/g,"AdMob Adapters"),l.add(/[^b][-]chartboost$/g,"Chartboost SDK"),k.add(/[-]notifications/g,"Notifications"),k.add(/[-]share/g,"Share");var m=k.add(/[-]social/g,"Social");m.add(/[-]social.+[-]gamecenter/g,"GameCenter"),m.add(/[-]social.+[-]facebook/g,"Facebook"),m.add(/[-]social.+[-]googleplaygames/g,"Google Play Games"),k.add(/[-]multiplayer/g,"Multiplayer"),k.toOptions(b.cocoonFilters),b.selectedCocoonFilter=b.cocoonFilters[0],b.searchFilter="",b.menuTitles={};for(var n=0;n<b.menuOptions.length;++n){var o=b.menuOptions[n];b.menuTitles[o]=o[0].toUpperCase()+o.slice(1)}b.placeholder=null,b.$on(c.xmlUpdated,function(a,c){j(c),b.selectOption(b.selectedOption)}),b.selectOption=function(a){b.selectedOption=a,b.loadingPlugins=!0,b.pluginList=[],b.fetchPluginsError=null,b.placeholder=null,b.customInstallMessage.show=!1;var c,f;if("core"===a)c=d.fetchCorePlugins.bind(d);else if("cocoon"===a)c=d.fetchCocoonPlugins.bind(d),f=b.selectedCocoonFilter?b.selectedCocoonFilter.regex:null;else if("search"===a){var g=b.searchFilter||"";g&&(c=d.fetchSearch.bind(d,g,30))}else if("installed"===a){for(var h=b.sugar.findAllPlugins(),i=[],j=0;j<h.length;++j){var k={name:h[j].getAttribute("name"),installed:!0,installedVersion:h[j].getAttribute("version")};k.name.indexOf("://")>=0&&(k.isGit=!0),i.push(k)}c=d.fetchFromArray.bind(d,i)}c?c(function(a,c){var d=a||[];if(f){for(var g=[],h=0;h<d.length;++h)f.lastIndex=0,f.test(d[h].name)&&g.push(d[h]);d=g}b.pluginList=d,b.fetchPluginsError=c,b.loadingPlugins=!1,e(b.pluginList),b.selectPlugin(d.length>0?d[0]:null)}):(b.pluginList=[],b.loadingPlugins=!1,b.selectPlugin(null))},b.updateCocoonFilter=function(a){b.selectedCocoonFilter=a,b.selectOption(b.selectedOption)},b.updateSearchFilter=function(a){b.searchFilter=a,b.selectOption(b.selectedOption)},b.installVersion=function(){var a=b.versions.selected,c=b.sugar.findPlugin(b.selectedPlugin.name);c&&("latest"===a?(c.removeAttribute("version"),b.selectedPlugin.installedVersion=null):(c.setAttribute("version",a),b.selectedPlugin.installedVersion=a),b.syncRaw())},g.prototype={name:function(a){return angular.isDefined(a)?(this.node.setAttribute("name",a),void b.syncRaw()):this.node.getAttribute("name")},value:function(a){return angular.isDefined(a)?(this.node.setAttribute("value",a),void b.syncRaw()):this.node.getAttribute("value")},remove:function(){this.node.parentNode&&this.node.parentNode.removeChild(this.node),h(b.selectedPlugin),b.syncRaw()}},b.addPluginParameter=function(a,c){b.sugar.addPluginParameter(b.selectedPlugin.name,a||"",c||""),h(b.selectedPlugin),b.syncRaw()},b.selectPlugin=function(a){b.selectedPlugin=a,f(a),h(a)},b.installPlugin=function(a){if(a.installed)b.sugar.removePlugin(a.name),a.installed=!1;else if(b.sugar.addPlugin(a.name),a.installed=!0,a.defaultParams)for(var c=0;c<a.defaultParams.length;++c)b.addPluginParameter(a.defaultParams[c]);if(b.syncRaw(),"installed"===b.selectedOption&&!a.installed){var d=b.pluginList,e=d.indexOf(a);e>-1&&(d.splice(e,1),e<d.length?b.selectPlugin(d[e]):b.selectPlugin(d.length>0?d[d.length-1]:null))}},b.getPlaceholder=function(){var a=this.selectedOption;return"installed"===a?"No plugins installed":"search"!==a||b.searchFilter?"No plugins found":"Search for plugins"},b.pluginTitle=function(a){if(!a)return"";if(a.isGit)return"Git URL";if(!a.title){var b="",c=a.name.indexOf("cordova-plugin-");if(0===c){var d=a.name.substr(15),e=d.split("-");e.length>0&&(b=e.join(" "))}b||(c=a.name.lastIndexOf("-"),-1===c&&(c=a.name.lastIndexOf(".")),c>=0&&(b=a.name.slice(c+1))),b||(b=a.name),b&&(b=b[0].toUpperCase()+b.slice(1)),a.title=b}return a.title},b.pluginVersion=function(a){if(a.isGit){var b=a.name.match(/#(\w+)/i);return b?b[1]:"-"}return a.version?a.version:"latest"},b.pluginDate=function(a){return a.prettyDate?a.prettyDate:(console.log(a.modified),a.modified&&a.modified?(a.prettyDate=i(new Date(a.modified)),a.prettyDate):"-")},b.installCustomPlugin=function(a){if(b.customInstallMessage.show=!1,b.customFormSubmitted=!0,a.$valid){var c=b.gitData,d=c.url;(c.branch||c.subdir)&&(d+="#"),c.branch&&(d+=c.branch),c.subdir&&(d+=":"+c.subdir),b.sugar.addPlugin(d),b.syncRaw(),b.gitData={},b.customFormSubmitted=!1,b.customInstallMessage.show=!0}},b.syncRaw=function(){b.updateXML(b.sugar.xml())},b.restoreConfigXml=function(){b.clearSugarError();var a=b.pristineXML;b.updateXML(a),j(a),b.selectOption(b.selectedOption)},b.savePluginsSugar=function(){b.clearSugarError(),b.syncRaw(),b.saveConfigXml(function(a){b.showSugarError(a)})},j(b.rawXML),b.selectOption(b.menuOptions[0]),b.loadingPlugins=!0,d.fetchCocoonPlugins(function(){b.loadingPlugins=!1})}]),a.prototype.add=function(b,c){var d=new a(b,c);return this.children.push(d),d},a.prototype.toOptions=function(a,b){b=b||0;for(var c="",d=0;b>d;++d)c+="..";for(this.optionTitle=c+this.title,a.push(this),d=0;d<this.children.length;++d)this.children[d].toOptions(a,b+1)}}(),angular.module("cocoonjsApp").directive("tabPlugins",[function(){return{templateUrl:"app/projects/detail/tabs/tabplugins.tpl.html",controller:"TabPluginsCtrl"}}]),angular.module("cocoonjsApp").service("PluginsService",["$http",function(a){function b(a){for(var b=0;b<i.length;++b)if(i[b].name===a)return i[b];return null}function c(a){for(var b=0;b<i.length;++b)if(i[b].name===a)return void i.splice(b,1)}function d(d){return i?(d(i),null):void a.get("/api/plugins/",{}).success(function(a){i=a.results||[];var e=[];for(var f in m)e.push(m[f]);for(var g,h=0;h<i.length;++h){g=i[h],g.name=g.name?g.name.join(""):"",g.description=g.description?g.description.join(" "):"",g.version=g.version?g.version.join(""):"1.0.0",g.modified=g.modified?g.modified.join(""):"",g.license=g.license?g.license.join(" "):"",g.author=g.author?g.author.join(" "):"",g.homepage=g.homepage?g.homepage.join(" "):"";for(var l=[],n=g.keywords||[],o=0;o<n.length;++o){var p=m[n[o]];p&&l.push(p)}l.sort(function(a,b){return e.indexOf(a)-e.indexOf(b)}),g.platforms=l}for(h=0;h<j.length;++h)c(j[h]);var q=1;for(var r in k)if(g=b(r)){var s=k[r];g.title=s.title,g.defaultParams=s.defaultParams,g.sortIndex=q++}return i.sort(function(a,b){return a.sortIndex||b.sortIndex?(a.sortIndex||100)-(b.sortIndex||100):a.name<b.name?-1:1}),d(i),a}).error(function(a){return d(null,a),a})}function e(a){for(var b=[],c=i,d=0;d<c.length;++d){var e=c[d];0===e.name.indexOf(a)&&b.push(e)}return b}function f(){for(var a=[],b=i,c=0;c<b.length;++c)l.indexOf(b[c].name)>=0&&a.push(b[c]);return a}function g(a,b){return a.name.indexOf(b)>=0?!0:a.keywords&&a.keywords.indexOf(b)>=0}function h(a,b){for(var c=a.toLowerCase().split(/[\s,]+/),d=[],e=i,f=0;f<e.length;++f){for(var h=e[f],j=!0,k=0;k<c.length;++k)j=j&&g(h,c[k]);if(j&&(d.push(h),d.length>=b))break}return d}var i=null,j=["cocoon-plugin-webview-plus","cocoon-plugin-ios-webview-plus","cocoon-plugin-common","cocoon-plugin-ads-common","cocoon-plugin-ads-ios-common","cocoon-plugin-ads-android-common","cocoon-plugin-inapps-common","cocoon-plugin-inapps-ios-common","cocoon-plugin-inapps-android-common","cocoon-plugin-social-common","cocoon-plugin-notifications-common","cocoon-plugin-canvasplus-common","cocoon-plugin-multiplayer-common","cocoon-plugin-multiplayer-ios-common","cocoon-plugin-multiplayer-android-common","cocoon-plugin-ads-android-adcolony","cocoon-plugin-ads-ios-adcolony"],k={"cocoon-plugin-inapps-ios-appstore":{title:"In-App Purchases for iOS App Store"},"cocoon-plugin-inapps-android-amazon":{title:"In-App Purchases for Amazon"},"cocoon-plugin-inapps-android-googleplay":{title:"In-App Purchases for Google Play"},"cocoon-plugin-social-android-facebook":{title:"Facebook for Android",defaultParams:["APP_ID","APP_NAME"]},"cocoon-plugin-social-ios-facebook":{title:"Facebook for iOS",defaultParams:["APP_ID","APP_NAME"]},"cocoon-plugin-notifications-android-local":{title:"Android Local Notifications"},"cocoon-plugin-notifications-ios-local":{title:"iOS Local Notifications"},"cocoon-plugin-notifications-android-parse":{title:"Android Parse Push Notifications",defaultParams:["APP_ID","CLIENT_KEY"]},"cocoon-plugin-notifications-ios-parse":{title:"iOS Parse Push Notifications",defaultParams:["APP_ID","CLIENT_KEY"]},"cocoon-plugin-share":{title:"Native Share API"},"cocoon-plugin-ads-ios-admob":{title:"AdMob native Ads for iOS"},"cocoon-plugin-ads-ios-mopub":{title:"MoPub native Ads for iOS"},"cocoon-plugin-ads-android-admob":{title:"AdMob native Ads for Android"},"cocoon-plugin-ads-android-mopub":{title:"MoPub native Ads for Android"},"cocoon-plugin-ads-ios-chartboost":{title:"Chartboost native Ads for iOS"},"cocoon-plugin-ads-android-chartboost":{title:"Chartboost native Ads for Android"},"cocoon-plugin-social-ios-gamecenter":{title:"Game Center Social API"},"cocoon-plugin-multiplayer-ios-gamecenter":{title:"Game Center Multiplayer API"},"cocoon-plugin-social-android-googleplaygames":{title:"Google Play Games Social API",defaultParams:["APP_ID"]},"cocoon-plugin-multiplayer-android-googleplaygames":{title:"Google Play Games Multiplayer API",defaultParams:["APP_ID"]},"cocoon-plugin-ads-android-admob-adcolony":{title:"AdColony adapter for AdMob Android",defaultParams:["APP_ID","ZONE_ID"]},"cocoon-plugin-ads-ios-admob-adcolony":{title:"AdColony adapter for AdMob iOS"},"cocoon-plugin-ads-android-mopub-adcolony":{title:"AdColony adapter for MoPub Android"},"cocoon-plugin-ads-android-mopub-admob":{title:"AdMob adapter for MoPub Android"},"cocoon-plugin-ads-android-mopub-chartboost":{title:"Chartboost adapter for MoPub Android"},"cocoon-plugin-ads-android-mopub-greystripe":{title:"Greystripe adapter for MoPub Android"},"cocoon-plugin-ads-android-mopub-inmobi":{title:"Inmobi adapter for MoPub Android"},"cocoon-plugin-ads-android-mopub-millennialmedia":{title:"MillennialMedia adapter for MoPub Android"},"cocoon-plugin-ads-ios-mopub-admob":{title:"AdMob adapter for MoPub iOS"},"cocoon-plugin-ads-ios-mopub-chartboost":{title:"Chartboost adapter for MoPub iOS"},"cocoon-plugin-ads-ios-mopub-millennial":{title:"MillennialMedia adapter for MoPub iOS"},"cocoon-plugin-ads-ios-mopub-adcolony":{title:"AdColony adapter for MoPub iOS"}},l=["cordova-plugin-battery-status","cordova-plugin-camera","cordova-plugin-console","cordova-plugin-contacts","cordova-plugin-device","cordova-plugin-device-motion","cordova-plugin-device-orientation","cordova-plugin-dialogs","cordova-plugin-file","cordova-plugin-file-transfer","cordova-plugin-geolocation","cordova-plugin-globalization","cordova-plugin-inappbrowser","cordova-plugin-legacy-whitelist","cordova-plugin-media","cordova-plugin-media-capture","cordova-plugin-ms-appinsights","cordova-plugin-network-information","cordova-plugin-splashscreen","cordova-plugin-statusbar","cordova-plugin-vibration","cordova-plugin-whitelist"],m={"cordova-android":"android","cordova-ios":"ios","cordova-wp8":"wp8","cordova-firefoxos":"firefoxos","cordova-tizen":"tizen","cordova-amazon-fireos":"amazon-fireos","cordova-ubuntu":"ubuntu","cordova-blackberry10":"blackberry10","cordova-wp7":"wp7","cordova-windows8":"windows8","cordova-windows":"windows"};this.fetchCorePlugins=function(a){d(function(b,c){return c?void a(null,c):void a(f())})},this.fetchCocoonPlugins=function(a){d(function(b,c){return c?void a(null,c):void a(e("cocoon-plugin"))})},this.fetchSearch=function(a,b,c){d(function(d,e){return e?void c(null,e):void c(h(a,b||30))})},this.fetchPluginDetail=function(b,c){a.get("/api/plugins/"+b,{}).success(function(a){return a.error?c(null,a.error):c(a),a}).error(function(a){return c(null,a),a})},this.fetchFromArray=function(a,c){d(function(d,e){if(e)return void c(null,e);for(var f=[],g=0;g<a.length;++g){var h=a[g],i=b(h.name);f.push(i||h)}c(f,null)})}}]),angular.module("cocoonjsApp").controller("TabSettingsCtrl",["$scope","APP_EVENTS","ProjectdetailService",function(a,b,c){function d(b){a.sugar=new window.XMLSugar(b);var c=a.sugar.isErrored();c&&(a.showSugarError?a.showSugarParseError():a.parseError=!0)}function e(b){var c=a.cocoonVersion;if(c.tags.splice(1),c.selected=c.tags[0],b)for(var d=0;d<b.length;++d)c.tags.splice(1,0,b[d].name);var e=a.sugar.getCocoonVersion();if(e){var f=c.tags.indexOf(e);0>f&&c.tags.splice(1,0,e),c.selected=e}}a.platforms=["default","android","ios"],a.selectedPlatform=null,a.platformEnabled=!0,a.platformEnvironment=null,a.cocoonVersion={tags:["latest"],selected:"latest"},a.$on(b.xmlUpdated,function(b,c){d(c),a.selectPlatform(a.selectedPlatform)}),a.selectPlatform=function(b){var c=a.sugar,d="default"!==b?b:null,e=d?c.isCocoonPlatformEnabled(d):!0;a.selectedPlatform=d,a.platformEnabled=e,a.platformEnvironment=c.getEnvironment(d),a.selectedCocoonVersion=c.getCocoonVersion(),a.cocoonVersion.selected=c.getCocoonVersion()||"latest","default"!==b&&(a.cordovaVersion=f(d))};var f=function(b){var c;if("latest"===a.cocoonVersion.selected)c=a.cocoonCordovaVersions[0];else for(var d=a.cocoonCordovaVersions,e=0;e<d.length;++e)d[e].name===a.cocoonVersion.selected&&(c=d[e]);if(!c)return"";for(var f=c.platforms,g=0;g<f.length;g++)if(f[g].name===b)return f[g].version};a.isDefault=function(){return!a.selectedPlatform},a.isPlatformSelected=function(b){return b===a.selectedPlatform||"default"===b&&a.isDefault()},a.isPlatformEnabled=function(b){return b&&"default"!==b?a.sugar.isCocoonPlatformEnabled(b):!0},a.toggleEnabled=function(b){var c=!a.sugar.isCocoonPlatformEnabled(b);a.sugar.setCocoonPlatformEnabled(b,c),b===a.selectedPlatform&&(a.platformEnabled=c),a.syncRaw()},a.canEditSettings=function(){return a.platformEnabled},a.versionLabelForPlatform=function(a){return"ios"===a?"CFBundleShortVersion: ":"android"===a?"Version Name: ":"Version: "},a.versionCodeLabelForPlatform=function(a){return"ios"===a?"CFBundleVersion: ":"android"===a?"Version Code: ":"Version: "},a.installCocoonVersion=function(){var b=a.cocoonVersion.selected;"latest"===b?a.sugar.setCocoonVersion(null):a.sugar.setCocoonVersion(b),a.syncRaw()},a.syncRaw=function(){a.updateXML(a.sugar.xml())},a.enabled=function(b){return angular.isDefined(b)?(a.sugar.setCocoonPlatformEnabled(a.selectedPlatform,b),a.platformEnabled=b,a.syncRaw(),void 0):a.platformEnabled},a.environment=function(b){return angular.isDefined(b)?(a.sugar.setEnvironment(parseInt(b),a.selectedPlatform),a.platformEnvironment=b,a.syncRaw(),void 0):(null===a.platformEnvironment&&(a.platformEnvironment=a.sugar.getEnvironment(a.selectedPlatform)),a.platformEnvironment)},a.bundleId=function(b){return angular.isDefined(b)?(a.sugar.setBundleId(b,a.selectedPlatform),void a.syncRaw()):a.sugar.getBundleId(a.selectedPlatform,!1)},a.getBundleIdPlaceholder=function(){return a.selectedPlatform?a.sugar.getBundleId():""},a.version=function(b){return angular.isDefined(b)?(a.sugar.setVersion(b,a.selectedPlatform),void a.syncRaw()):a.sugar.getVersion(a.selectedPlatform)},a.versionCode=function(b){return angular.isDefined(b)?(a.sugar.setVersionCode(b,a.selectedPlatform),void a.syncRaw()):a.sugar.getVersionCode(a.selectedPlatform)},a.getVersionPlaceholder=function(){return a.selectedPlatform?a.sugar.getVersion():""},a.getVersionCodePlaceholder=function(){if("android"===a.selectedPlatform){var b=a.sugar.getVersion(),c=b.split("."),d=1e4*parseInt(c[0])||0;return d+=100*parseInt(c[1])||0,d+=parseInt(c[2])||0,d+""}return a.selectedPlatform?a.sugar.getVersion():""},a.appName=function(b){return angular.isDefined(b)?(a.sugar.setValue("name",b,a.selectedPlatform),void a.syncRaw()):a.sugar.getValue("name",a.selectedPlatform,!1)},a.getNamePlaceHolder=function(){return a.selectedPlatform?a.sugar.getValue("name"):""},a.orientation=function(b){if(!angular.isDefined(b)){if(a.selectedPlatform){var c=a.sugar.getPreference("Orientation",a.selectedPlatform,!1);return null===c?"inherit":a.sugar.getOrientation(a.selectedPlatform).toString()}return a.sugar.getOrientation()}"inherit"===b?a.sugar.setOrientation(null,a.selectedPlatform):a.sugar.setOrientation(parseInt(b),a.selectedPlatform),a.syncRaw()},a.getOrientationPlaceholder=function(){return a.selectedPlatform?a.getOrientationTitle(a.sugar.getOrientation()):""},a.getOrientationTitle=function(a){return a===window.XMLSugar.Orientation.SYSTEM_DEFAULT?"System Default":a===window.XMLSugar.Orientation.PORTRAIT?"Portrait":a===window.XMLSugar.Orientation.LANDSCAPE?"Landscape":"Both"},a.fullscreen=function(b){if(!angular.isDefined(b)){if(a.selectedPlatform){var c=a.sugar.getPreference("Fullscreen",a.selectedPlatform,!1);return null===c?"inherit":a.sugar.isFullScreen(a.selectedPlatform).toString()}return a.sugar.isFullScreen().toString()}a.sugar.setFullScreen("inherit"===b?null:"true"===b,a.selectedPlatform),a.syncRaw()},a.getFullscreenPlaceholder=function(){return a.sugar.isFullScreen()?"Yes":"No"},a.content=function(b){return angular.isDefined(b)?(a.sugar.setContentURL(b,a.selectedPlatform),void a.syncRaw()):a.sugar.getContentURL(a.selectedPlatform,!1)},a.getContentPlaceholder=function(){return a.selectedPlatform?a.sugar.getContentURL()||"index.html":"index.html"},a.minSDKVersion=function(b){var c="android-minSdkVersion",d="default";return angular.isDefined(b)?(b===d?a.sugar.setPreference(c,null):a.sugar.setPreference(c,b),void a.syncRaw()):a.sugar.getPreference(c)||d},a.targetSDKVersion=function(b){var c="android-targetSdkVersion",d="default";return angular.isDefined(b)?(b===d?a.sugar.setPreference(c,null):a.sugar.setPreference(c,b),void a.syncRaw()):a.sugar.getPreference(c)||d},a.installLocation=function(b){var c="com.ludei.installlocation.android",d="android-installLocation",e="internalOnly";if(!angular.isDefined(b)){var f=!!a.sugar.findPlugin(c);return f?a.sugar.getPreference(d)||e:e}b===e?(a.sugar.removePlugin(c),a.sugar.setPreference(d,null)):(a.sugar.addPlugin(c),a.sugar.setPreference(d,b)),a.syncRaw()},a.multidex=function(b){var c="cocoon-plugin-application-android",d="false";if(!angular.isDefined(b)){var e=!!a.sugar.findPlugin(c);return e?"true":d}b===d?a.sugar.removePlugin(c):a.sugar.addPlugin(c),a.syncRaw()},a.restoreConfigXml=function(){a.clearSugarError();var b=a.pristineXML;a.updateXML(b),d(b),a.selectPlatform(a.selectedPlatform)},a.saveConfigSugar=function(){a.clearSugarError(),a.syncRaw(),a.saveConfigXml(function(b){a.showSugarError(b)})},d(a.rawXML),e(null),c.fetchCocoonVersions().then(function(b){e(b),a.cocoonCordovaVersions=b})}]),angular.module("cocoonjsApp").directive("tabSettings",[function(){return{templateUrl:"app/projects/detail/tabs/tabsettings.tpl.html",controller:"TabSettingsCtrl"}}]),function(){function a(a,b,c,d,e){c=c||g;var f=parseInt(e)||0;(e+"").indexOf("%")>=0&&(f=Math.min(a.width,a.height)*f/100),d=d||"#000000",c=c||h;var i=a.getContext("2d"),j=a.width,k=a.height;if(i.fillStyle=d,i.fillRect(0,0,j,k),b){var l,m,n,o,p=j-2*f,q=k-2*f,r=p/q,s=b.width/b.height;c===g?(r>s?(n=q/b.height*b.width,o=q):(n=p,o=p/b.width*b.height),l=a.width/2-n/2,m=a.height/2-o/2):c===h?(s>r?(n=q/b.height*b.width,o=q):(n=p,o=p/b.width*b.height),l=a.width/2-n/2,m=a.height/2-o/2):(n=p,o=q,l=f,m=f),i.drawImage(b,l,m,n,o)}}var b="CocoonSplashImage",c="CocoonSplashBackgroundColor",d="CocoonSplashScaleMode",e="CocoonSplashDelay",f="CocoonSplashPadding",g="scaleAspectFit",h="scaleAspectFill",i="scaleToFill",j="#1c2023",k="15%";angular.module("cocoonjsApp").controller("TabSplashCtrl",["$scope","APP_EVENTS","$upload","URLS","Auth","ProjectdetailService","$mdDialog","User","$http","BillingInfoService",function(l,m,n,o,p,q,r,s,t,u){function v(){this.downloading=!1,this.uploading=!1,this.deleting=!1,this.splash=null,this.name="",this.size=0,this.progress=0}function w(a){l.sugar=new window.XMLSugar(a);var b=l.sugar.isErrored();b&&(l.showSugarError?l.showSugarParseError():l.parseError=!0),l.selectPlatform(l.selectedPlatform),x()}function x(){l.checkingSplash=!0,u.getPurchasesInfo().then(function(a){l.checkingSplash=!1,s.updateUserPurchases(a),l.selectPlatform(l.selectedPlatform)},function(a){console.log(a),l.checkingSplash=!1,s.updateUserPurchases(null),l.selectPlatform(l.selectedPlatform)})}function y(){l.showCoreSplash=!1;var a=s.getUser();a.purchases||(a.purchases={}),a.purchases.splashes+=l.sugar.getBundleId(),s.createUser(a)}function z(a,b){var c=o.base+o.projectList+l.project.id+"/splash/"+b,d=l.splashes[b];d.uploading=!0,d.name=a.name,d.size=a.size,d.progress=0;var e=n.upload({url:c,method:"POST",headers:{Authorization:"Bearer "+p.getToken()},file:a});e.then(function(){d.uploading=!1;var a=l.project.splashes[b]||(l.project.splashes[b]={});a.url=c,l.selectedPlatform===b&&l.selectPlatform(b)})["catch"](function(a){d.uploading=!1,l.showSugarError(a.data.description)}),e.progress(function(a){d.progress=Math.min(100,parseInt(100*a.loaded/a.total))})}function A(a,b){var c="default"===l.selectedPlatform?null:l.selectedPlatform;return angular.isDefined(b)?(l.sugar.setPreference(a,"inherit"===b?null:b,c),void l.syncRaw()):(F&&window.clearTimeout(F),F=window.setTimeout(function(){l.refreshCanvas(),F=null},50),c?l.sugar.getPreference(a,c,!1):l.sugar.getPreference(a))}function B(a,b){return"default"!==l.selectedPlatform?l.sugar.getPreference(a):b}v.prototype={isSet:function(){return null!==this.splash||this.isLoading();
},isLoading:function(){return this.uploading||this.downloading||this.deleting},isReady:function(){return null!==this.splash},isProcessing:function(){return this.downloading||this.deleting},getStyle:function(){return this.splash&&!this.isLoading()?"background-image: url("+this.splash+")":""}},l.platforms=["default","android","ios"],l.selectedPlatform=l.platforms[0],l.splashes={},l.drop={files:null},l.showCoreSplash=!0,l.checkingSplash=!0;var C=new Image,D=document.getElementById("cocoon_core_splash");a(D,null,g,j,k),C.onload=function(){l.coreSplash=this,a(D,this,g,j,k)},C.src="assets/images/layout/63bb4b59.splash.jpg";for(var E=0;E<l.platforms.length;++E)l.splashes[l.platforms[E]]=new v;l.selectedSplash=l.splashes[l.selectedPlatform],l.$on(m.xmlUpdated,function(a,b){w(b),l.selectPlatform(l.selectedPlatform)}),l.setPlatform=function(a){l.selectedPlatform=a,x()},l.selectPlatform=function(a){if(l.selectedPlatform=a,"default"===a)for(var b=1;b<l.platforms.length&&(l.showCoreSplash=l.sugar.getEnvironment(l.platforms[b])===window.XMLSugar.Environment.CANVAS_PLUS&&!s.hasBoughtBundleId(l.sugar.getBundleId()),!l.showCoreSplash);++b);else l.showCoreSplash=l.sugar.getEnvironment(a)===window.XMLSugar.Environment.CANVAS_PLUS&&!s.hasBoughtBundleId(l.sugar.getBundleId());var c=l.splashes[a];l.selectedSplash=c;var d=l.project.splashes[a];!c.isSet()&&d&&d.url&&(c.downloading=!0,q.getIcon(d.url).then(function(a){var b=new Image;b.onload=function(){c.splash=this,c.downloading=!1,l.refreshCanvas(),l.$digest()},b.src=a})["catch"](function(a){c.downloading=!1,l.showSugarError(a.target.statusText)}))},l.isDefault=function(){return"default"===l.selectedPlatform},l.isPlatformSelected=function(a){return a===l.selectedPlatform},l.fileSelected=function(a){a.length>0&&z(a[0],l.selectedPlatform)},l.mailtoRemoveSplash=function(){var a="I would like to be contacted to remove the splash from "+l.project.title+" project.";window.location="mailto:sales@cocoon.io?Subject=Remove%20Splash%20to%20"+l.project.title+"&Body=Hi%2C%0A%0A"+escape(a)+"%0A%0ARegards"},l.removeUserSplash=function(){var a=l.selectedSplash;a.deleting=!0;var c=l.selectedPlatform;q.deleteSplash(l.project.id,c).then(function(){a.splash=null,a.deleting=!1,delete l.project.splashes[c],l.sugar.setPreference(b,null,"default"===c?null:c)})["catch"](function(b){a.deleting=!1,l.showSugarError(b.data.description)})},l.removeSplashAttempt=function(){window.CocoonAnalytics.track("Remove splash start"),r.show({templateUrl:"app/projects/detail/tabs/splashConfirm.tpl.html",controller:"splashConfirmController",locals:{bundleId:l.sugar.getBundleId()}}).then(function(a){a&&y()})},l.validate=function(a){if(a.name&&/[.]png/.test(a.name))return!0;var b=a.type;if(!b)return!0;var c=["image/png"];return-1!==c.indexOf(b.toLowerCase())},l.$watch("drop.files",function(a){null!=a&&a.length>0&&z(a[0],l.selectedPlatform)}),l.refreshCanvas=function(){var b=document.getElementById("cocoon_splash_canvas");if(b){var e="default"===l.selectedPlatform?null:l.selectedPlatform,g=l.sugar.getPreference(d,e,!0),h=l.sugar.getPreference(c,e,!0),i=l.sugar.getPreference(f,e,!0);a(b,l.selectedSplash.splash,g,h,i)}};var F=null;l.delay=A.bind(l,e),l.delayPlaceholder=B.bind(l,e,"5"),l.bgcolor=A.bind(l,c),l.bgcolorPlaceholder=B.bind(l,c,"#000000"),l.padding=A.bind(l,f),l.paddingPlaceholder=B.bind(l,f,"0%"),l.scaleMode=function(a){if(!angular.isDefined(a)){var b=A(d);return null===b?"default"===l.selectedPlatform?g:"inherit":b}A(d,a)},l.scaleModePlaceholder=function(){var a=l.sugar.getPreference(d);return a===i?"Fill":a===h?"Aspect Fill":"Aspect Fit"},l.showDeviceSimulator=function(){var a="default"===l.selectedPlatform?null:l.selectedPlatform,b={image:l.coreSplash,bgcolor:j,mode:g,padding:k,orientation:l.sugar.getOrientation(a,!0)};r.show({controller:"deviceSimulatorController",templateUrl:"app/projects/detail/tabs/deviceSimulator.tpl.html",locals:{renderData:b}})},l.showCustomDeviceSimulator=function(){var a="default"===l.selectedPlatform?null:l.selectedPlatform,b={image:l.selectedSplash.splash,bgcolor:l.sugar.getPreference(c,a),mode:l.sugar.getPreference(d,a),padding:l.sugar.getPreference(f,a),orientation:l.sugar.getOrientation(a,!0)};r.show({controller:"deviceSimulatorController",templateUrl:"app/projects/detail/tabs/deviceSimulator.tpl.html",locals:{renderData:b}})},l.showComingSoon=function(){r.show({controller:"customDialogController",templateUrl:"app/projects/detail/tabs/comingsoon.tpl.html"})},l.syncRaw=function(){l.updateXML(l.sugar.xml())},l.restoreConfigXml=function(){l.clearSugarError();var a=l.pristineXML;l.updateXML(a),w(a),l.selectOption(l.selectedOption)},l.showComingSoon=function(){r.show({controller:"customDialogController",templateUrl:"app/projects/detail/tabs/comingsoon.tpl.html"})},l.syncRaw=function(){l.updateXML(l.sugar.xml())},l.restoreConfigXml=function(){l.clearSugarError();var a=l.pristineXML;l.updateXML(a),w(a),l.selectPlatform(l.selectedPlatform)},l.saveSplashesSugar=function(){l.clearSugarError(),l.syncRaw(),l.saveConfigXml(function(a){l.showSugarError(a)})},w(l.rawXML)}]),angular.module("cocoonjsApp").controller("deviceSimulatorController",["$scope","$mdDialog","renderData",function(b,c,d){b.renderData=d,b.devices=[{name:"Amazon Kindle Fire HDX",w:2560,h:1600,dpr:2},{name:"Apple iPad",w:1024,h:768,dpr:2},{name:"Apple iPad Mini",w:1024,h:768,dpr:1},{name:"Apple iPhone 4",w:320,h:480,dpr:2},{name:"Apple iPhone 5",w:320,h:568,dpr:2},{name:"Apple iPhone 6",w:375,h:667,dpr:2},{name:"Apple iPhone Plus",w:414,h:736,dpr:3},{name:"BlackBerry Playbook",w:1024,h:600,dpr:1},{name:"BlackBerry Z30",w:360,h:640,dpr:2},{name:"Google Nexus 10",w:1280,h:800,dpr:2},{name:"Google Nexus 4",w:384,h:640,dpr:2},{name:"Google Nexus 5",w:360,h:640,dpr:3},{name:"Google Nexus 7",w:960,h:600,dpr:2},{name:"LG Optimus L70",w:384,h:640,dpr:1.2},{name:"Nokia Lumia 520",w:320,h:533,dpr:1.4},{name:"Nokia N9",w:360,h:640,dpr:1},{name:"Samsung Galaxy S3",w:360,h:640,dpr:2},{name:"Samsung Galaxy S4",w:360,h:640,dpr:3}],b.selectedDevice=b.devices[5],b.fit=!1,b.reverse=!1,b.render=function(c){var d=b.renderData,e=document.getElementById("device_simulator_canvas");if(e){var f=c.w,g=c.h;if(d.orientation===window.XMLSugar.Orientation.LANDSCAPE?(f=Math.max(c.w,c.h),g=Math.min(c.h,c.w)):d.orientation===window.XMLSugar.Orientation.PORTRAIT&&(g=Math.max(c.w,c.h),f=Math.min(c.h,c.w)),b.reverse){var h=g;g=f,f=h}f=Math.ceil(f*c.dpr),g=Math.ceil(g*c.dpr),e.width=f,e.height=g;var i=e.parentNode;if(b.fit){var j=.75*window.innerWidth,k=.5*window.innerHeight,l=Math.min(j/f,k/g,1);f=Math.round(f*l),g=Math.round(g*l)}i.style.width=f+"px",i.style.height=g+"px",a(e,d.image,d.mode,d.bgcolor,d.padding)}},b.changeDevice=function(){b.reverse=!1,b.render(b.selectedDevice)},b.reverseDevice=function(){b.reverse=!b.reverse,b.render(b.selectedDevice)},b.hide=function(){c.hide()},b.cancel=function(){c.cancel()},b.confirm=function(a){c.hide(a)};var e=window.setInterval(function(){var a=document.getElementById("device_simulator_canvas");a&&(window.clearInterval(e),b.render(b.selectedDevice))},50)}]),angular.module("cocoonjsApp").controller("splashConfirmController",["$scope","$mdDialog","bundleId","UI_EVENTS","BillingInfoService",function(a,b,c,d,e){function f(){a.state="loading",e.getPaymentMethod().then(function(b){a.state=null,a.paymentMethod=b,a.step=2},function(b){702===b.code||751===b.code?(a.state=null,a.step=1):(console.log(b),a.message="There was an unexpected error, please, try again later.",a.state="error")})}function g(){a.state="loading",a.tryBuySplash=!0,e.removeLudeiSplash(c).then(function(){a.state="success",window.CocoonAnalytics.track("Remove splash success")},function(b){a.state="error",console.log(b),a.message="There was an error purchasing the splash, please try again later",window.CocoonAnalytics.track("Remove splash fail")})}a.bundleId=c,a.tryBuySplash=!1,a.$on(d.paymentMethodReceived,function(b,c){c&&"nodef"!==c&&(a.paymentMethod=c)}),f(),a.purchase=function(){g()},a.confirm=function(c){c||a.tryBuySplash||window.CocoonAnalytics.track("Remove splash fail"),b.hide(c)},a.next=function(){a.paymentMethod&&(a.step=2)},a.back=function(){a.step=1}}])}(),angular.module("cocoonjsApp").directive("tabSplash",[function(){return{templateUrl:"app/projects/detail/tabs/tabsplash.tpl.html",controller:"TabSplashCtrl"}}]),angular.module("cocoonjsApp").controller("TabXMLCtrl",["$scope","APP_EVENTS",function(a,b){a.aceLoaded=function(b){a.editor=b,b.onFocus=function(){console.log("onfocus")},a.rawXML&&a.editor.setValue(a.rawXML,1),window.setTimeout(function(){b.session.getUndoManager().reset(),b.session.getUndoManager().markClean()},100)},a.aceChanged=function(){a.updateXML(a.editor.getValue())},a.hasUndo=function(){return a.editor.session.getUndoManager().hasUndo()},a.hasRedo=function(){return a.editor.session.getUndoManager().hasRedo()},a.undo=function(){return a.hasUndo()&&(a.editor.session.getUndoManager().undo(),a.updateXML(a.editor.getValue())),!1},a.redo=function(){a.hasRedo()&&(a.editor.session.getUndoManager().redo(),a.updateXML(a.editor.getValue()))},a.setEditorContent=function(){a.editor.setValue(a.rawXML,1),a.undoManager.reset()},a.restoreConfigXml=function(){a.clearSugarError(),a.updateXML(a.pristineXML),a.editor.setValue(a.pristineXML,1)},a.$on(b.xmlUpdated,function(b,c){a.editor.setValue(c,1)}),a.save=function(){a.clearSugarError(),a.saveConfigXml(function(b){a.showSugarError(b)})}}]),angular.module("cocoonjsApp").directive("tabXml",[function(){return{templateUrl:"app/projects/detail/tabs/tabxml.tpl.html",controller:"TabXMLCtrl"}}]),angular.module("cocoonjsApp").controller("customDialogController",["$scope","$mdDialog",function(a,b){a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.confirm=function(a){b.hide(a)}}]),angular.module("cocoonjsApp").service("xmlhelper",[function(){this.isParseError=function(a){var b=new DOMParser,c=b.parseFromString("<","text/xml"),d=c.getElementsByTagName("parsererror")[0].namespaceURI;return"http://www.w3.org/1999/xhtml"===d?a.getElementsByTagName("parsererror").length>0:a.getElementsByTagNameNS(d,"parsererror").length>0}}]),angular.module("cocoonjsApp").controller("projectcardmessageController",["$scope","APP_EVENTS",function(a,b){a.$on(b.fileUploadError,function(b,c){a.messageTitle="Operation failed",a.messageTryAgain=!0,a.error=c}),a.$on(b.gitSyncFailed,function(b,c){a.messageTitle="Sync failed",a.messageTryAgain=!1,a.error=c}),a.$on(b.projectsLoadFailed,function(b,c){a.messageTitle="Error loading projects",a.messageTryAgain=!1,a.error=c})}]).directive("projectcardMessage",function(){return{templateUrl:"app/projects/messages/message.html",controller:"projectcardmessageController"}}),angular.module("cocoonjsApp").service("ProjectListService",["$http","URLS","Auth","$q",function(a,b,c,d){this.getProjectList=function(){var e=d.defer();return a.get(b.base+b.projectList,{headers:{Authorization:"Bearer "+c.getToken()}}).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}}]),angular.module("cocoonjsApp").controller("ProjectsCtrl",["$scope","ProjectListService","$interval","Auth","ProjectdetailService","APP_EVENTS","Project","$analytics",function(a,b,c,d,e,f,g,h){function i(){for(var a in l)l.hasOwnProperty(a)&&e.get(a).then(function(b){var c=g.formatForView(b.data);g.isUpdateable(c)||delete l[a];var d=j(c.id);d&&g.updateOldProject(d,c)})}function j(b){for(var c=0;c<a.projects.length;++c)if(a.projects[c].id===b)return a.projects[c];return null}a.projects=[],a.loadingProjects=!0,a.renderString=g.renderString,a.displayError=function(a){console.log(a)};var k,l={};b.getProjectList().then(function(b){if(a.className="fade-in",a.loadingProjects=!1,b.length>0){for(var d=0;d<b.length;++d){var e=g.formatForView(b[d]);e.iconImg=e.icon,g.isUpdateable(e)&&(l[e.id]=e),a.projects.unshift(e)}k=c(i,5e3)}a.received=!0})["catch"](function(b){a.$broadcast(f.projectsLoadFailed,b)}),a.$on(f.startPolling,function(a,b){angular.noop(a);var d=j(b);d=g.formatForView(g.forceWaiting(d)),l[d.id]=d,k||(k=c(i,1e4))}),a.$on(f.fileUploadSuccess,function(b,d){if(d.update){if(a.projects.length>0)for(var e=0;e<a.projects.length;++e)a.projects[e].id===d.response.id&&g.updateOldProject(a.projects[e],g.formatForView(d.response))}else a.projects.unshift(g.formatForView(d.response)),h.eventTrack("create new project success");l[d.response.id]=g.formatForView(d.response),k||(k=c(i,5e3))}),a.$on(f.gitProjectCreated,function(b,c){a.projects.unshift(g.formatForView(c)),l[c.id]=g.formatForView(c),h.eventTrack("create new project success")}),a.$on("$destroy",function(){k&&c.cancel(k)})}]),angular.module("cocoonjsApp").controller("publishedWithController",["$scope","publishedWithService",function(a,b){function c(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}a.publishedList=[],b.query().$promise.then(function(b){a.publishedList=c(b)})}]).service("publishedWithService",["$resource",function(a){return a("https://www.ludei.com/_api/v1/marketplace/filter/gamesapp/?apikey=ohd1ta4NAhmen1aaEiYee8He",{},{query:{method:"GET",isArray:!0}})}]).directive("publishedWith",function(){return{templateUrl:"app/publishedwith/published-with.html",controller:"publishedWithController"}}),angular.module("cocoonjsApp").factory("Auth",["$location","$http","$cookieStore","$q","URLS","User",function(a,b,c,d,e,f){var g=e.base+"/user/auth",h=e.base+"/me/",i=!1,j=function(a){var c=a||angular.noop,e=d.defer();return b.get(h,{headers:{Authorization:"Bearer "+l()}}).success(function(a){return f.createUser(a),e.resolve(a),window.CocoonAnalytics.identify(a.email,{idUser:a.id,name:a.username}),c()}).error(function(a){return this.logout(),e.reject(a),c(a)}.bind(this)),e.promise},k=function(a){c.put("access_token",a.access_token),c.put("refresh_token",a.refresh_token)},l=function(){return c.get("access_token")},m=function(){return c.get("refresh_token")};return{login:function(a,e){var f=e||angular.noop,h=d.defer();return b.post(g,{username:a.username,password:a.password}).success(function(a){return c.put("token",a.token),h.resolve(a),f()}).error(function(a){return this.logout(),h.reject(a),f(a)}.bind(this)),h.promise},getOngoingRefresh:function(){return i},setOngoingRefresh:function(a){i=a},resetPassword:function(a,c){var f=c||angular.noop,g=d.defer();return b.post(e.server+e.resetPass+"?email="+a).success(function(a){return g.resolve(a),f()}).error(function(a){return g.reject(a),f(a)}.bind(this)),g.promise},logout:function(){c.remove("token_type"),c.remove("access_token"),c.remove("refresh_token"),f.dropUser();var a=d.defer();return b.get(e.server+"/cloud/logout").success(function(b){console.log("bye! "+b),a.resolve(b)}).error(function(b){a.reject(b)}.bind(this)),a.promise},createUser:function(a,c,f){var g=f||angular.noop,h=d.defer(),i=c?"?invitation="+c:"",j=e.base+e.createUser+i;return b.post(j,{username:a.username,name:a.name,email:a.email,lastname:a.lastname,password:a.password}).success(function(a){return this.setToken(a.token),h.resolve(a),g()}).error(function(a){return h.reject(a),g(a)}.bind(this)),h.promise},getCurrentUser:function(){return f.getUser()},setCurrentUser:function(a){f.createUser(a)},isLoggedIn:function(){return f.getUser().hasOwnProperty("username")},isLoggedInAsync:function(a){var b=f.getUser();b.hasOwnProperty("$promise")?b.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(b.hasOwnProperty("role")?!0:!1)},getToken:l,setToken:k,getRefreshToken:m,loginWithToken:j}}]),angular.module("cocoonjsApp").service("User",[function(){var a={},b=null,c=this,d=[];this.createUser=function(b){a=b,a.projects=null;for(var c=0;c<d.length;++c)d[c](a);return d=[],a},this.onLogin=function(b){this.isEmpty(a)?d.push(b):b(a)},this.isEmpty=function(){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},this.getUser=function(){return a},this.dropUser=function(){a={}},this.saveKeys=function(a){var b=this.getUser();b.keys=a},this.getKeys=function(){return a.keys},this.deleteKey=function(a){var b=c.getUser();for(var d in b.keys)if(b.keys[d].length>0)for(var e in b.keys[d])b.keys[d][e].id===a&&b.keys[d].splice(e,1);return b},this.hasKeys=function(a){var b=this.getUser();if(c.isEmpty(b))return!1;var d=b.keys;if(a)return d[a]?d[a].length>0:!1;for(var e in d)if(d[e].length>0)return!0;return!1},this.hasBoughtBundleId=function(a){var c=this.getUser();if(c.splashes&&-1!==c.splashes.indexOf(a))return!0;if(b&&b.length>0)for(var d=0;d<b.length;d++)for(var e=b[d].items,f=0;f<e.length;f++)if("Splash"===e[f].type&&e[f].bundleId===a)return!0;return!1},this.updateUserPurchases=function(a){b=a}}]),angular.module("cocoonjsApp").service("fileService",["$http","Auth",function(a,b){this.uploadFileToUrl=function(c,d){var e=new FormData;e.append("file",c),a.post(d,e,{transformRequest:angular.identity,headers:{"Content-Type":void 0,Authorization:"Bearer "+b.getToken()}}).success(function(){}).error(function(a){console.log(a)})}}]),angular.module("cocoonjsApp").controller("userFooterCtrl",["$scope",function(a){a.currentYear=(new Date).getFullYear()}]),angular.module("cocoonjsApp").directive("footerContent",function(){return{templateUrl:"/components/footer/footer.html"}}),angular.module("cocoonjsApp").directive("appHeader",function(){return{templateUrl:"/components/header/appheader/app-header.html"}}),angular.module("cocoonjsApp").directive("leaveOnReceived",["$animate","$timeout","UI_EVENTS",function(a,b,c){return{link:function(d,e){var f=function(a,b){a["delete"](b)};d.$on(c.listReceived,function(){e.addClass("fade-out"),b(function(){d.$apply(function(){a.leave(e,f)})},0,!1)})}}}]),angular.module("cocoonjsApp").controller("userHeaderCtrl",["$scope","Auth","$route","AUTH_EVENTS","$location","User","$rootScope","URLS",function(a,b,c,d,e,f,g,h){a.clicked=!1,a.loading=g.loading;var i=f.getUser();a.main=!0;var j=function(){a.hash=md5(i.email);var b=e.$$protocol+"://"+e.$$host+":"+e.$$port+"/assets/images/layout/d77dc397.user_defaultavatar.jpg";a.defaultIconUrlEnc=encodeURI(b),a.username=i.name+" "+(i.lastname||"")};a.showmenu=function(){a.clicked=!0},a.hidemenu=function(){a.clicked=!1},b.isLoggedIn()&&(a.loading=!1,j()),a.$on(d.loginSuccess,function(){a.specialPath=!1,a.loading=!1,i=f.getUser(),"/"===e.url()?a.main=!0:a.main=!1,i.email&&j()}),a.$on("loginAttempt",function(){a.loading=!0}),a.$on(d.logoutSuccess,function(){a.loading=!1,a.hash=void 0,a.username=void 0}),a.logout=function(){b.logout(),a.$broadcast(d.logoutSuccess),window.location.href=h.server+"/logout?return_to="+e.protocol()+"://"+location.host},a.getWPName=window.CocoonUtils.getWPName}]).directive("userHeader",function(){return{templateUrl:"/components/header/userheader/user-header.html"}}),angular.module("cocoonjsApp").filter("usernameFilter",function(){return function(a){return null===a||void 0===a?"Anonymous":a}}),angular.module("cocoonjsApp").controller("userMenuController",["$scope","$location",function(a,b){a.goToPricing=function(){window.location.href=b.protocol()+"://"+b.host()+("80"===b.port()?"":":"+b.port())+"/pricing"},a.getWPName=window.CocoonUtils.getWPName}]),angular.module("cocoonjsApp").directive("userMenu",["AUTH_EVENTS",function(){return{templateUrl:"/components/header/usermenu/user-menu.html",controller:"userMenuController"}}]),angular.module("cocoonjsApp").controller("NavbarCtrl",["$scope","$location","Auth","URLS",function(a,b,c,d){a.menu=[{title:"Home",link:"/"}],a.isCollapsed=!0,a.isLoggedIn=c.isLoggedIn,a.isAdmin=c.isAdmin,a.getCurrentUser=c.getCurrentUser,a.logout=function(){c.logout(),window.location.href=d.server+"/cloud/logout?return_to="+b.protocol()+"://"+location.host},a.isActive=function(a){return a===b.path()}}]),angular.module("cocoonjsApp").service("Status",["$http","URLS","$q",function(a,b,c){this.api=function(d){var e=d||angular.noop,f=c.defer();return a({method:"OPTIONS",url:b.base+b.userProfile}).success(function(a){return f.resolve(a),e()}).error(function(a){return f.reject(a),e(a)}.bind(this)),f.promise}}]),angular.module("cocoonjsApp").run(["$templateCache",function(a){a.put("app/account/login/login.html","<section class=form_login_signup><div class=content><div class=loading>Loading&#8230;</div></div></section>"),a.put("app/account/me/delete.tpl.html","<md-dialog><md-content><h2>Are you sure?</h2><p>This user and projects will be deleted. This action can't be undone</p></md-content><div class=md-actions><md-button analytics-on=click analytics-event=deleteUser ng-click=confirm(false)>Cancel</md-button><md-button class=md-warn ng-click=confirm(true)>Delete</md-button></div></md-dialog>"),a.put("app/account/me/me-form.html",'<item-msg></item-msg><form class=form name=form ng-submit="update(form, me)" novalidate><div class=form-group><label>Username</label><input type=text name=username ng-class="{ \'has-error\': form.username.$invalid && submitted }" class=form-control ng-model=me.username required><p class=help-block ng-show="form.username.$error.required && submitted">A username is required</p></div><div class=form-group><label>Name</label><input type=text name=name ng-class="{ \'has-error\': form.name.$invalid && submitted }" class=form-control ng-model=me.name required><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><!--last name--><div class=form-group><label>Last Name</label><input type=text name=lastName class=form-control ng-model="me.lastname"></div><!--email--><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\n				                                            \'has-error\': form.email.$invalid && submitted }"><label for=email>Email</label><input type=email name=email ng-class="{\'has-error\': form.email.$invalid && submitted }" value=me.email class=form-control ng-model=me.email required><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p></div><!--old_password--><div ng-if=passwordConnection class=form-group ng-class="{ \'has-success\': form.oldpassword.$valid && submitted,\n	                                          \'has-error\': form.oldpassword.$invalid && submitted }"><label for=oldpassword>Old password</label><input type=password name=oldpassword ng-class="{\'has-error\': form.oldpassword.$invalid && submitted }" class=form-control ng-model=me.old_password ng-minlength="6"><p class=help-block ng-show="(form.oldpassword.$error.minlength ) && submitted">Password must be at least 6 characters.</p></div><!--password--><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n	                                          \'has-error\': form.password.$invalid && submitted }"><label for=password>Password</label><input type=password name=password ng-class="{\'has-error\': form.password.$invalid && submitted }" class=form-control ng-model=me.password ng-minlength="6"><p class=help-block ng-show="(form.password.$error.minlength ) && submitted">Password must be at least 6 characters.</p></div><!--repassword--><div class=form-group ng-class="{ \'has-success\': form.repassword.$valid && submitted,\n	                                          \'has-error\': form.repassword.$invalid }"><label>Confirm new password</label><input type=password name=repassword ng-class="{\'has-error\': form.repassword.$invalid && submitted }" class=form-control ng-model=me.repassword ng-minlength=6 compare-to="me.password"><p class=help-block ng-show=form.repassword.$invalid>Passwords must match and must have 6 characters at least.</p></div><div class=userImg><!--TODO: file drop image update--></div><!--eula--><div class="form-group group-eula" ng-class="{ \'has-success\': form.eula.$valid && submitted,\n	                                                      \'has-error\': form.eula.$invalid && submitted }"><md-checkbox class=eula name=eula ng-model=me.eula ng-model=form.eula aria-label=EULA required>I\'ve read and accept</md-checkbox><a class=terms onclick="window.open(\'https://cloud.ludei.com/terms/\')">Terms of Use</a> and the <a class=terms onclick="window.open(\'https://www.ludei.com/privacy/\')">Privacy Policy</a><p class=help-block ng-show="((form.eula.$error.required) && submitted) ">You must accept Terms and conditions</p></div><!--submit--><div class=form_actions><md-button ng-class="{\'btn_loading\': loading}" class="md-raised md-primary" analytics-on=click analytics-event=updateUserProfile>Update</md-button></div></form>'),a.put("app/account/me/me.html",'<article class="projectdetail page_profile" ng-cloak><div class=content><h1>Profile</h1><section class=bodycontent><header><div class=maininfo><div class=image><img ng-src="https://secure.gravatar.com/avatar/{{hash}}?d={{defaultIconUrlEnc}}&s=200" alt="{{username}} avatar" style="width:100px; max-width: 100px" ld-imgonload></div><div class="data animate-show"><h1>{{me.name +\' \' +me.lastname | limitTo: 50}}</h1><p>{{project.package}}<!--TODO <a href="#" title="Edit project">Edit</a>--></p></div></div><aside><p class=date_created>{{me.plan.name}} user plan</p><md-button ng-if="me.plan.name===\'default\'" class=md-raised ng-disabled=true>Upgrade</md-button></aside></header><footer></footer></section><section class="information projectdetailTabs"><div class=content_wrap><div class=content ng-controller=meTabdetailCtrl><h1>{{tabTitles[data.selectedIndex]}}</h1><div><md-tabs class=md-accent md-selected=data.selectedIndex role=tablist md-stretch-tabs><md-tab ng-repeat="tab in tabTitles" id=tab{{data.selectedIndex}} ng-disabled=!tabsEnabled[$index] aria-controls=tab{{data.selectedIndex}}-content>{{tab}}</md-tab></md-tabs><ng-switch on=data.selectedIndex class=tabpanel-container><div class=content_wrap><div class=tab_profile role=tabpanel id=tab1-content aria-labelledby=tab1 ng-switch-when=0 md-swipe-left=next() md-swipe-right=previous()><ld-me-form></ld-me-form></div><div class=tab_profile role=tabpanel id=tab2-content aria-labelledby=tab2 ng-switch-when=1 md-swipe-left=next() md-swipe-right=previous()><billing-info></billing-info></div><div class=tab_keys role=tabpanel id=tab3-content aria-labelledby=tab3 ng-switch-when=2 md-swipe-left=next() md-swipe-right=previous()><user-keys></user-keys></div></div></ng-switch></div></div><!----></div><!-- /.content_wrap --></section><div class=common_actions><md-button class="md-raised md-warn" ng-disabled=true analytics-on=click analytics-event=showDeleteUserModal ng-click=showConfirm()>Delete user</md-button></div></div></article>'),a.put("app/account/messages/message.html",'<p class="login-message ng-hide" ng-show=customMsg ng-class="{\'success\' :success}">{{msg}} <a class=dismiss ng-click=dismiss() href=#>Dismiss</a></p>'),a.put("app/account/recoverpasswd/recover.tpl.html",'<md-dialog flex=50><md-content><div class=createGithub><h2>Password reset</h2><item-msg></item-msg><form ng-hide=hideInput name=form novalidate><div class=form><div class=form-group><label for=url><strong>Your email</strong></label><input id=email type=email name=email ng-model=user.email class=form-control ng-class="{ \'has-error\': form.email.$invalid && submitted}" required><p class="help-block ng-hide" ng-show="(form.email.$invalid && submitted)">Invalid email</p><p class="help-block ng-hide" ng-show="form.email.$error.required && submitted">Email is mandatory</p></div></div><!--<p class="help-block" ng-show="form.url.$error.required && submitted">The Github URL is required</p>--><md-button ng-show=!disabled class=md-raised ng-click=confirm(false)>Cancel</md-button><md-button ng-show=disabled class="md-raised md-primary" ng-disabled=true analytics-on=click analytics-event=wizardStepOneOk>Reset Password</md-button><md-button ng-show=!disabled class="md-raised md-primary" ng-class="{\'btn_loading\': processing}" ng-click=recoverpass(form) analytics-on=click analytics-event=wizardStepOneOk>Reset Password</md-button></form><md-button ng-show=hideInput class="md-raised md-primary" ng-click=confirm(false)>Close</md-button></div></md-content></md-dialog>'),a.put("app/account/signup/signup.html",'<section class=form_signup ng-cloak><div class=content><h1>Sign up</h1><div class=content_wrap><account-msg></account-msg><md-content><form class=form name=form ng-submit=register(form) novalidate><!--name--><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n			                                            \'has-error\': form.name.$invalid && submitted }"><label>Name</label><input type=text name=name ng-class="{ \'has-error\': form.name.$invalid && submitted }" class=form-control ng-model=user.name required><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><!--last name--><div class=form-group><label>Last Name</label><input type=text name=lastname class=form-control ng-model="user.lastname"></div><!--username--><div class=form-group ng-class="{ \'has-success\': form.username.$valid && submitted,\n			                                            \'has-error\': form.username.$invalid && submitted }"><label>Username</label><input type=text name=username ng-class="{\'has-error\': form.username.$invalid && submitted }" class=form-control ng-model="user.username"></div><!--email--><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\n			                                            \'has-error\': form.email.$invalid && submitted }"><label>Email</label><input type=email name=email ng-class="{\'has-error\': form.email.$invalid && submitted }" class=form-control ng-model=user.email required><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p></div><!--password--><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n			                                            \'has-error\': form.password.$invalid && submitted }"><label>Password</label><input type=password name=password ng-class="{\'has-error\': form.password.$invalid && submitted }" class=form-control ng-model=user.password ng-minlength=6 required><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 6 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div><!--eula--><div class="form-group group-eula" ng-class="{ \'has-success\': form.eula.$valid && submitted,\n			                                            \'has-error\': form.eula.$invalid && submitted }"><md-checkbox class=eula name=eula ng-model=user.eula aria-label=EULA required>I\'ve read and accept</md-checkbox><a class=terms onclick="window.open(\'https://cloud.ludei.com/terms/\')" analytics-on=click analytics-event="TermsOfUse From SignUp">Terms of Use</a> and the <a class=terms onclick="window.open(\'https://www.ludei.com/privacy/\')" analytics-on=click analytics-event="Privacy From SignUp">Privacy Policy</a><p class=help-block ng-show="(form.eula.$error.required) && submitted">You must accept Terms and conditions</p></div><!--submit--><div class=form_actions><md-button ng-disabled=offline class="md-raised md-primary" type=submit analytics-on=click analytics-event="SignUp From SignUp">Sign up</md-button><p>Have an account? <a class="btn btn-default btn-lg btn-register" href=/login analytics-on=click analytics-event="Login From SignUp">Log in</a></p></div></form><third-parties></third-parties></md-content></div><!-- /.content_wrap --></div></section>'),a.put("app/billingInfo/billingInfo.tpl.html","<div layout=row><ul flex=20 layout=column class=sugarMenu ng-show=mustShow(tab)><li ng-repeat=\"tab in ['history', 'billingInfo', 'paymentMethod']\" class={{tab}} ng-class=\"tab === selectedTab ? 'active' : ''\"><a href=# ng-click=selectTab(tab);>{{tab | billingtabfilter}}</a></li></ul><div flex=80 class=page_billing><div class=tab_maincontent ng-switch=selectedTab ng-show=\"mustShow(selectedTab) !== undefined\"><billing-transaction-form ng-switch-when=history class=animate-show></billing-transaction-form><billing-address-form ng-switch-when=billingInfo class=animate-show></billing-address-form><payment-method-form ng-switch-when=paymentMethod class=animate-show></payment-method-form></div></div><div ng-show=\"mustShow(selectedTab) === undefined\" class=loading></div></div>"),
a.put("app/billingInfo/forms/billingAddress.form.tpl.html",'<item-msg></item-msg><form class=form name=form ng-submit=update(billingAddress)><div class=form-group><label>First name</label><input type=text class=form-control ng-model=billingAddress.firstName name=firstName placeholder="First name" required><p class=help-block ng-show="form.firstName.$error.required && submitted">The username is required</p></div><div class=form-group><label>Last name</label><input type=text class=form-control ng-model=billingAddress.lastName name=lastName placeholder="Last name" required></div><div class=form-group><label>Company</label><input type=text class=form-control ng-model=billingAddress.company name=company placeholder=Company required></div><div class=form-group><label>Country</label><select pvp-country-picker ng-model=billingAddress.country name=country required></select></div><div class=form-group><label>Address</label><input type=text class=form-control ng-model=billingAddress.address1 name=address1 placeholder=Address required></div><div class=form-group><label>Comlementary address information</label><input type=text class=form-control ng-model=billingAddress.address2 name=address2 placeholder="Complementary address information"></div><div class=form-group><label>City</label><input type=text class=form-control ng-model=billingAddress.city name=city placeholder=City required></div><div class=form-group><label>Zip</label><input type=text class=form-control ng-model=billingAddress.zip name=zip placeholder=Zip required></div><div class=form-group><label>State</label><input type=text class=form-control ng-model=billingAddress.state name=state placeholder=State required></div><div class=form_actions><md-button ng-class="{\'btn_loading\': loading}" class="md-raised md-primary" analytics-on=click analytics-event=updateUserProfile ng-click=update(form)>Update</md-button></div></form>'),a.put("app/billingInfo/forms/billingTransaction.form.tpl.html","<div id=subscription ng-show=subscription class=notice>Your current plan is: {{subscription.plan}} billed each {{subscription.period}}. The next payment is at: {{subscription.next_payment | date}}</div><div id=transaction ng-if=\"transactions && transactions !== 'nodef'\"><table><thead><tr><th class=t_id>Reference</th><th class=t_amount>Amount</th><th class=t_date>Date</th><th class=t_type>Type</th><th class=t_info>Info</th><th class=t_status>Status</th></tr></thead><tbody><tr ng-repeat=\"transaction in transactions\"><td class=t_id>{{transaction.id}}</td><td class=t_amount>{{'$' + transaction.amount}}</td><td class=t_date>{{transaction.date | date}}</td><td class=t_type>{{transaction.type}}</td><td class=t_info><span title={{transaction.info}}>{{transaction.info}}</span></td><td class=t_status>{{transaction.status}}</td></tr></tbody></table></div><div ng-if=\"!transactions || transactions === 'nodef'\">There are no transactions.</div>"),a.put("app/billingInfo/forms/paymentMethod.form.tpl.html",'<div><form class=form id=paymentMethod ng-switch=state><div class=dropin ng-switch-when=waiting><h1>Update payment method</h1><div id=dropin-container></div><md-button class="md-raised md-primary" analytics-on=click analytics-event="Remove splash setpaymentmethod accept">Set payment method</md-button></div><div id=paymentInfo ng-switch-when=showing><div class=form-group><label>Payment type</label><input name=paymentType type=text disabled ng-model=paymentData.type></div><div class=form-group><label>Payment data</label><input name=paymentData type=text disabled ng-model=paymentData.info></div><div class=form-actions><md-button ng-class="{\'btn_loading\': loading}" class="md-raised md-primary" analytics-on=click analytics-event="Remove splash setpaymentmethod update" ng-click=changePaymentMethod()>Update payment method</md-button></div></div><div class=cocoon_loading ng-switch-when=loading>Loading...</div><div id=paymentInfo ng-switch-when=loading><h1>Loading</h1></div><div ng-switch-when=error><div class="notice error">There was an unexpected error</div><md-button ng-class="{\'btn_loading\': loading}" class="md-raised md-primary" ng-click=restart()>Close</md-button></div><!--Processing payment method message --><div ng-switch-when=processingPM><div class=notice>Your payment method is being processed, please come back in few minutes.</div></div></form></div>'),a.put("app/billingInfo/subscriptionInfo/subscriptionInfo.tpl.html",""),a.put("app/doc/index-directive.html","/** * Created by karliky on 3/12/14. */"),a.put("app/keys/deletekey.tpl.html",'<md-dialog><md-content><h2>Are you sure?</h2><p>The key {{alias}} will be deleted. This action can\'t be undone.</p></md-content><div class=md-actions><md-button ng-click=confirm(false) analytics-on=click analytics-event=cancelDeleteKey>Cancel</md-button><md-button class="md-raised md-warn" ng-click=confirm(true) analytics-on=click analytics-event=confirmDeleteKey>Delete</md-button></div></md-dialog>'),a.put("app/keys/forms/android.form.tpl.html",'<md-item ng-if=!displayForm><md-button class="md-raised md-primary" ng-click=showForm()>Add Android key</md-button></md-item><item-msg></item-msg><form ng-if=displayForm class=form name=form ng-submit=addKey(form) novalidate><div class=form-group><label>Title</label><input type=text name=title ng-class="{ \'has-error\': form.title.$invalid && submitted }" class=form-control ng-model=key.title required><p class=help-block ng-show="form.title.$error.required && submitted">A title is required</p></div><div class=form-group><label>Alias</label><input type=text name=alias ng-class="{ \'has-error\': form.alias.$invalid && submitted }" class=form-control ng-model=key.alias required><p class=help-block ng-show="form.alias.$error.required && submitted">An alias is required</p></div><div class=form-group ng-class="{ \'has-success\': form.certpass.$valid && submitted,\n	                                          \'has-error\': form.certpass.$invalid && submitted }"><label for=certpass>Certificate password</label><input type=password name=certpass ng-class="{\'has-error\': form.certpass.$invalid && submitted }" class=form-control ng-model=key.certpass required><p class=help-block ng-show="form.certpass.$error.required && submitted">A certificate password is required.</p></div><div class=form-group ng-class="{ \'has-success\': form.keystorepass.$valid && submitted,\n	                                          \'has-error\': form.keystorepass.$invalid && submitted }"><label for=keystorepass>KeyStore password</label><input type=password name=keystorepass ng-class="{\'has-error\': form.keystorepass.$invalid && submitted }" class=form-control ng-model=key.keystorepass required><p class=help-block ng-show="(form.keystorepass.$error.required) && submitted">A keystore password is required.</p></div><div class=form-group ng-class="{ \'has-success\': form.keystore.$valid && submitted,\n	                                          \'has-error\': form.keystore.$invalid && submitted }"><label for=file>KeyStore (.keystore or .jks)</label><input type=file ng-file-select="" ng-model=key.keystore name=keystore ng-file-change="" accept=".keystore, .jks" required> <a title=Help class="icohelp inline" target=_blank href=http://developer.android.com/tools/publishing/app-signing.html#signing-manually><span>help</span></a><p class=help-block ng-show=form.keystore.$error.$invalid>The keystore must be jks or keytore extension</p><p class=help-block ng-show="(form.keystore.$error.required) && submitted">A keystore is required.</p></div><div class=form_actions><md-button class="md-raised md-primary" ng-class="{\'btn_loading\': loadingKeyRequest}" analytics-on=click analytics-event="Add Android Key From ProjectPage">Add</md-button><md-button class="md-raised md-primary" ng-click=hideForm();notifyKeyFail();>Cancel</md-button></div></form>'),a.put("app/keys/forms/ios.form.tpl.html",'<md-item ng-if=!displayForm><md-button class="md-raised md-primary" ng-click=showForm()>Add iOS key</md-button></md-item><form ng-if=displayForm class=form name=form ng-submit=addKey(form) novalidate><div class=form-group><label>Title</label><input type=text name=title ng-class="{ \'has-error\': form.title.$invalid && submitted }" class=form-control ng-model=key.title required><p class=help-block ng-show="form.title.$error.required && submitted">A title is required</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n	                                          \'has-error\': form.password.$invalid && submitted }"><label for=password>Password</label><input type=password name=password ng-class="{\'has-error\': form.password.$invalid && submitted }" class=form-control ng-model=key.password required><p class=help-block ng-show="form.password.$error.required && submitted">A certificate password is required.</p></div><div class=form-group ng-class="{ \'has-success\': form.provisioning.$valid && submitted,\n	                                          \'has-error\': form.provisioning.$invalid && submitted }"><label for=provisioning>Provisioning profile</label><input type=file ng-file-select="" ng-model=key.provisioning name=provisioning ng-file-change="" accept=.mobileprovision required> <span><a class=iconhelp href=https://developer.apple.com/library/ios/recipes/xcode_help-accounts_preferences/articles/obtain_certificates_and_provisioning_profiles.html>help</a></span><p class=help-block ng-show="(form.provisioning.$error.required) && submitted">A Provisioning profile is required.</p></div><div class=form-group ng-class="{ \'has-success\': form.certificate.$valid && submitted,\n	                                          \'has-error\': form.certificate.$invalid && submitted }"><label for=certificate>Certificate (p12) file</label><input type=file ng-file-select="" ng-model=key.certificate name=certificate ng-file-change="" accept=.p12 required> <a title=Help class="icohelp inline" target=_blank href=http://help.adobe.com/en_US/as3/iphone/WS144092a96ffef7cc-371badff126abc17b1f-7fff.html><span>help</span></a><p class=help-block ng-show="(form.certificate.$error.required) && submitted">A Certificate is required.</p></div><div class=form_actions><md-button class="md-raised md-primary" ng-class="{\'btn_loading\': loadingKeyRequest}" analytics-on=click analytics-event="Add iOS Key From ProjectPage">Add</md-button><md-button class="md-raised md-primary" ng-click=hideForm();notifyKeyFail();>Cancel</md-button></div></form>'),a.put("app/keys/project/projectkey.tpl.html",'<div layout=row ng-if=project><ul flex=20 layout=column class=sugarMenu><li ng-repeat="platform in [\'android\', \'ios\']" class={{platform}} ng-class="platform === selectedPlatform ? \'active\' : \'\'"><a href=# ng-click=selectPlatform(platform);>{{platform | platformfilter}}</a></li></ul><div flex=80 class=column_content><key-msg></key-msg><label>Choose/Add an {{selectedPlatform | platformfilter}} key</label><select ng-model=selectedKey[selectedPlatform] ng-change="assignKey(selectedKey[selectedPlatform] , selectedPlatform)" ng-init=selectKey(selectedPlatform)><option value="">No key selected</option><option ng-repeat="key in userKeys[selectedPlatform]" value={{key.id}} ng-selected="key.id === selectedKey[selectedPlatform]">{{key.title}}</option><option value=addkey analytics-on=click analytics-event=addKeyProject>Add a key...</option></select><a class=icohelp target=_blank href="http://docs.cocoon.io/article/signing/" title=Help analytics-on=click analytics-event="Signing Help From ProjectPage"><span>help</span></a><div class=key_request ng-if=changingKeyRequest[selectedPlatform]></div><div class=selected_key ng-if="selectedKey[selectedPlatform] === \'addkey\'" ng-switch=selectedPlatform><android-key-form ng-switch-when=android ng-init="displayForm = true;" class=animate-show></android-key-form><ios-key-form ng-switch-when=ios ng-init="displayForm = true;" class=animate-show></ios-key-form></div></div></div>'),a.put("app/keys/user/userkeys.tpl.html",'<div layout=row><ul flex=20 layout=column class=sugarMenu><li ng-repeat="platform in [\'android\', \'ios\']" class={{platform}} ng-class="platform === selectedPlatform ? \'active\' : \'\'"><a href=# ng-click=selectPlatform(platform);>{{platform | platformfilter}}</a></li></ul><div flex=80 class=page_keys><item-msg></item-msg><p class=empty ng-if="keys[selectedPlatform].length === 0">No keys</p><ul><li ng-repeat="key in keys[selectedPlatform]"><h3>{{key.title}} <span ng-if=key.alias>{{key.alias}}</span></h3><div class=actions><md-button class="small md-raised md-warn" ng-class="{\'btn_loading\': deletingKeys[key.id]}" analytics-on=click analytics-event=deleteKeyRequest ng-click=deletekeyRequest(key.id)>Delete key</md-button></div></li></ul><div class="actions form_actions" ng-switch=selectedPlatform><android-key-form ng-switch-when=android class=animate-show></android-key-form><ios-key-form ng-switch-when=ios class=animate-show></ios-key-form></div></div></div>'),a.put("app/main/main.html","<section class=projects><div class=content><div id=main_pic></div></div></section><!-- /.projects --><news-feed></news-feed><published-with></published-with>"),a.put("app/maintenance/maintenance.tpl.html",'<article class=projectdetail><div class=content><h1>Maintenance</h1><section class="bodycontent csj_doc"><md-content class=md-default-theme style=text-align:center><h1>Cocoon cloud is under maintenance</h1><div class=maintenance></div></md-content></section></div></article><!-- /.projects -->'),a.put("app/messaging/message.html",'<p class="login-message ng-hide" ng-show="msg && show" ng-class="{\'success\' :success}">{{msg}} <a ng-click=dismiss() class=dismiss analytics-on=click analytics-event=dismissMsg href=#>Dismiss</a></p>'),a.put("app/newsfeed/newsfeed.html",'<!-- news --><section class=news ng-cloak><div class=content><h2>Latest news</h2><ul class=news><li ng-repeat="news in newsList  | limitTo :3"><div><header><p class=areas>{{news.source}}</p><p class=date>{{news.date | date:\'short\'}}</p></header><h3 class=fade><a analytics-on=click analytics-event="Latest News From Dashboard {{news.url}}" href={{news.url}}>{{news.title}}</a></h3><div class=content>{{news.content |htmlToPlaintext}}</div></div></li></ul><div ng-hide=newsList.length><ul class=news><li></li><li></li><li></li></ul></div></div></section><!-- ./news -->'),a.put("app/projects/card/big/big.html",'<header><div class=image style=background-image:url({{iconFile}})></div><div class=project_name><h1 class=title>{{project.title}} <span ng-if="project && project.migration">(Migrated)</span></h1><p class=package>{{project.package}}<!--TODO <a href="#" title="Edit project">Edit</a>--></p></div></header><aside><p class=date_created>Created: {{project.date_created | date:\'yyyy/MM/dd\'}}</p><p ng-if=project.date_compiled class=date_compilation>Last compilation: {{project.date_compiled | date:\'yyyy/MM/dd - H:mm:ss\'}}</p><p ng-if=!project.date_compiled class=date_compilation>Never compiled</p><!--TODO: Download qrcode with all zip files--></aside><footer><ld-project-icons></ld-project-icons><p class=game_actions><span ld-force-compile=""></span> <span class=tooltip-bottom data-tooltip="Download source code" analytics-on=click analytics-event="Download SourceCode From ProjectPage" analytics-label={{project.title}}><a ng-href={{sourceLink()}} class=download></a></span></p></footer><ld-claim-drop></ld-claim-drop>'),a.put("app/projects/card/card.html",'<div ng-controller=CardCtrl class="project_card bodycontent ng-pristine ng-untouched ng-valid {{status}}" ng-file-drop="" ng-model=file ng-accept=validate($file) drag-over-class="{accept:\'status_dragging\', reject: \'status_invalid\', delay: 100}" ng-multiple=false allowdir=false><!--drag-over-class="{accept:\'status_dragging\', reject:\'status_failed\', delay:100}"--><div class=status_start><card-small ng-if=!big></card-small><card-big ng-if=big></card-big></div><div class=status_dragging><p>Drop file here</p></div><div class=status_invalid><p>Must be a zip file</p></div><div class=status_processing><p>Processing</p></div><div ng-show=file class=status_uploading><div><p class=file-name>File:{{file[0].name}}</p><p ng-show=file[0].name class=file-size>{{file[0].size|filesizeFilter}}</p><p ng-show="progress >= 0" class=file-progress>{{progress}}% uploaded</p><md-progress-linear ng-show="progress >= 0" md-mode=determinate ng-value=progress></md-progress-linear><!--<a href="#"class="upload-cancel" ng-click="dropAgain();">Cancel</a>--></div></div><div class=status_failed><!--<div>\n      <p class="title">Creation failed</p>\n      <p class="description">Drag another zip file</p>\n      <p class="dismiss" ng-click="resetStatus()"><a href="#">Dismiss</a></p>\n    </div>--><projectcard-message></projectcard-message></div></div>'),a.put("app/projects/card/common/appicons.tpl.html",'<p class=platforms id={{project.id}}><span ng-repeat="platform in project.platforms" class=tooltip-right data-tooltip={{tooltipMessage(platform)}}><a ng-class=statusCSS(platform) ng-href={{downloadLink(platform)}} ng-click=displayError(platform) analytics-on=click analytics-event="Download {{platform}} From {{getWPName()}}" analytics-label={{project.title}}></a></span></p>'),a.put("app/projects/card/common/claimdrop.tpl.html","<div class=\"claim_drop {{project.origin.type}}\" ng-controller=claimdropController><p class=drop><img class=feedback ng-if=project.uploadInfo src=\"/assets/images/layout/6842a4b1.ok_feedback.gif?{{project.uploadInfo.when}}\"> {{project.uploadInfo ? 'Zip uploaded. ': 'Drop ZIP or' }}<a ng-file-select=\"\" ng-model=file class=\"upload-button ng-pristine ng-valid\" ng-file-change=\"fileSelected($files, $event)\" ng-multiple=false accept=.zip,application/zip,multipart/x-zip,application/x-compressed,application/x-zip-compressed allowdir=false href=# analytics-on=click analytics-event=\"Zip Upload From {{getWPName()}} {{getProjectTitle()}}\">Upload</a></p><p ng-class=\"['git', syncingGit ? 'gitSyncRequest' : '', syncSucceeded ? 'gitSyncOk' : '']\" ng-if=\"project.origin.type === 'git'\" ng-click=syncGit()>Sync</p></div>"),a.put("app/projects/card/common/compilationError.tpl.html","<md-dialog><md-content><h2>Platform {{platform}} error</h2><p ng-bind-html=error></p></md-content><div class=md-actions><md-button class=md-warn ng-click=confirm(true) analytics-on=click analytics-event=closeErrorLog>Close</md-button></div></md-dialog>"),a.put("app/projects/card/common/conflictdialog.tpl.html","<md-dialog><md-content><h2>Conflict</h2><p>You have uploaded a new config.xml but you have some local changes. Your local changes will be lost if you don't save them.</p></md-content><div class=md-actions><md-button class=md-warn ng-click=confirm(false) analytics-on=click analytics-event=cancelOngoing>Load the new config.xml</md-button><md-button ng-click=confirm(true) analytics-on=click analytics-event=ContinueOngoing>Keep your changes</md-button></div></md-dialog>"),a.put("app/projects/card/common/forcecompile.tpl.html",'<span class=tooltip-bottom data-tooltip=Compile><a analytics-on=click analytics-event="Compile Project" analytics-project={{project.title}} analytics-from={{getWPName()}} href=# ng-class="{active: force}" class=build ng-click=forceBuild(project.id)></a></span>'),a.put("app/projects/card/common/ongoingdialog.tpl.html","<md-dialog><md-content><h2>Ongoing compilation</h2><p>A compilation is currently ongoing, if you continue the previous compilation will be canceled</p></md-content><div class=md-actions><md-button ng-click=confirm(false) analytics-on=click analytics-event=cancelOngoing>Cancel</md-button><md-button class=md-warn ng-click=confirm(true) analytics-on=click analytics-event=ContinueOngoing>Continue</md-button></div></md-dialog>"),a.put("app/projects/card/common/unsavedxml.tpl.html","<md-dialog><md-content><h2>XML has changed</h2><p>You're about to send a new compilation with changes unsaved. Your local changes will be lost if you don't save them.</p></md-content><div class=md-actions><md-button class=md-warn ng-click=confirm(false) analytics-on=click analytics-event=cancelOngoing>Cancel request</md-button><md-button ng-click=confirm(true) analytics-on=click analytics-event=ContinueOngoing>Compile it anyway</md-button></div></md-dialog>"),a.put("app/projects/card/small/small.html",'<div ng-if=project class=has_project><header><h2><a ng-href=/projects/{{project.id}} analytics-on=click analytics-event="Enter Project From Dashboard" analytics-label={{project.title}}>{{project.title}} <span ng-if="project && project.migration">(Migrated)</span></a></h2><p class=version>v{{project.version}}</p><div class=image style="background-image: url({{project.icon}})"></div></header><ld-project-icons></ld-project-icons><footer><p ng-if=project.date_compiled class=date>Last compilation: {{project.date_compiled | date:\'yyyy/MM/dd\'}}</p><p ng-if=!project.date_compiled class=date>Never compiled</p><p class=game_actions><span ld-force-compile=""></span> <span class=tooltip-bottom data-tooltip="Download source code"><a ng-href={{sourceLink()}} class=download analytics-on=click analytics-event="Download SourceCode From Dashboard" analytics-label={{project.title}}></a></span> <span class=tooltip-bottom data-tooltip=Settings><a ng-href=/projects/{{project.id}} class=settings analytics-on=click analytics-event="Settings From Dashboard" analytics-label={{project.title}}></a></span><!--\n      <a href="#" class="cloud" title="update">Update project code</a>\n      <a href="#" class="phone" title="launch_on_cocoonjslauncher">Launch on cocoonjslauncher</a>\n      --></p></footer><ld-claim-drop></ld-claim-drop></div><div ng-if="!project && !cardMode" class=has_no_project><h2>Create project</h2><div class=web2app ng-controller=web2AppController><a href=# ng-click=openForm() analytics-on=click analytics-event="Web2App Create New From Dashboard"><p><span>From <strong>web 2 app</strong></span></p><p>A native app from your website URL</p></a></div><ld-claim-drop></ld-claim-drop><div class=github ng-controller=createFromGithubController><a href=# ng-click=openForm() analytics-on=click analytics-event="Github Import Create New From Dashboard"><p><span>From <strong>Github</strong></span></p><p>Import source from Github</p></a></div><div class=kit ng-controller=createFromWizardController><a href=# ng-click=openWizard() analytics-on=click analytics-event="Guided Creation Create New From Dashboard"><p><span>Guided <strong>creation</strong></span></p><p>Step by step</p></a></div><div ng-if=reachedMaxProjects() class=projectlimit ng-click=warnProjectLimit()></div></div><div ng-if="cardMode === \'loading\'" class=has_no_project><h2>Loading projects...</h2><div class=key_request style=padding-top:150px></div></div>'),a.put("app/projects/confirmUpdate.tpl.html","<md-dialog><md-content><h2>Are you sure?</h2><p>The project will be updated</p></md-content><div class=md-actions><md-button ng-click=confirm(false)>Cancel</md-button><md-button class=md-warn ng-click=confirm(true) analytics-on=click analytics-event=confirmZipUpdate>Update</md-button></div></md-dialog>"),a.put("app/projects/create/create-project.html","<h2>Create project</h2><div class=new><p><span>From <strong>code</strong></span></p><p>Git repo, zip file...</p></div><div class=kit><p><span>Using <strong>wizard</strong></span></p><p>Guided</p></div>"),a.put("app/projects/create/github/creategithub.tpl.html",'<md-dialog flex=50><md-content><div class=createGithub><h2>From github</h2><item-msg></item-msg><form name=form ng-submit=requestGithubCreation(form) novalidate><ld-github-form></ld-github-form><!--<p class="help-block" ng-show="form.url.$error.required && submitted">The Github URL is required</p>--><div class=md-actions ng-hide=githubRequest><md-button class=md-raised ng-click=confirm(false) analytics-on=click analytics-event="Cancel Github Import Create New From Dashboard">Cancel</md-button><md-button type=submit class="md-raised md-primary" analytics-on=click analytics-event="Save Github Import Create New From Dashboard">Create</md-button></div><div class=key_request ng-show=githubRequest></div></form></div></md-content></md-dialog>'),a.put("app/projects/create/github/github.form.tpl.html",'<div class=form><div class=form-group><label for=url><strong>Github Url</strong></label><input id=url type=url name=customUrl ng-model=gh.customUrl class=form-control ng-class="{ \'has-error\': form.customUrl.$invalid && form.customUrl.$dirty}" gh-url required><p class="help-block ng-hide" ng-show="(form.customUrl.$error.ghurl || (form.customUrl.$invalid && form.customUrl.$dirty)) && !form.customUrl.$error.required">Github URL contains https:// and finishes with .git</p><p class="help-block ng-hide" ng-show="form.customUrl.$error.required && submitted">The github Url is mandatory</p></div><div class=form-group><label for=branchTag><strong>Branch/tag</strong></label><input id=branchTag type=text name=branchTag ng-model=gh.branchTag class=form-control ng-class="{ \'has-error\': form.url.$invalid && submitted }"></div></div>'),a.put("app/projects/create/project_limit/projectLimit.tpl.html",'<md-dialog flex=50><md-content><div class=warnProjectLimit ng-controller=CardCtrl><h2>Plan upgrade</h2><span ng-if="getPlan() == \'free\'">You have reached the plan projects limit. You can get more projects upgrading to the Silver (10) or Gold (50) plan.</span> <span ng-if="getPlan() == \'silver\'">You have reached the plan projects limit. You can get more projects upgrading to the Gold (50) plan.</span> <span ng-if="getPlan() == \'gold\'">You have reached the plan projects limit. You can get more projects upgrading to the Platinum plan.</span><div class=md-actions><md-button ng-click=hide()>Dismiss</md-button><md-button class="md-raised md-primary" href=/pricing ng-click=hide() target=_blank md-autofocus>Upgrade!</md-button></div></div></md-content></md-dialog>'),a.put("app/projects/create/web2app/web2app.tpl.html",'<md-dialog flex=50><md-content><div class=createGithub><h2>Your website as app</h2><item-msg></item-msg><form name=form ng-submit=requestWeb2AppCreation(form) novalidate><div class=form><div class=form-group><label for=url><strong>Your website URL</strong></label><input id=url type=url name=web2appUrl ng-model=gh.web2appUrl class=form-control ng-class="{ \'has-error\': form.web2appUrl.$invalid && form.web2appUrl.$dirty && submitted}" http-prefix required><p class="help-block ng-hide" ng-show="form.web2appUrl.$error.required && submitted">The Url is mandatory</p><p class="help-block ng-hide" ng-show="form.web2appUrl.$invalid && form.web2appUrl.$dirty">Incorrect URL format</p></div></div><div class=md-actions><md-button type=button class=md-raised ng-hide=processing ng-click=confirm(false) analytics-on=click analytics-event="Cancel Web2App Create New From Dashboard">Cancel</md-button><md-button type=submit class="md-raised md-primary" ng-class="{\'btn_loading\': processing}" analytics-on=click analytics-event="Save Web2App Create New From Dashboard">Create</md-button></div></form></div></md-content></md-dialog>'),a.put("app/projects/create/wizard/step1/step1.github.tpl.html",'<div class=option_github><form name=form novalidate><!--\n	<p class="description">Lorem ipsum</p>\n	--><ld-github-form ng-keyup=checkContent()></ld-github-form></form></div>'),a.put("app/projects/create/wizard/step1/step1.templates.tpl.html",'<div class=option_templates><div ng-if=!templates.length class=content><div class=templates><div class=template_list><p class=template_placeholder ng-repeat="n in [0,1,2,3]">Loading template...</p></div><p class=description>Loading templates...</p></div></div><div ng-if=!templates.length class="loading loadingTemplates">Loading templates...</div><div ng-if="templates.length > 0" class=content><div class=templates><div class=template_list ng-class="{more : (templates.length > 4)}"><p ng-repeat="template in templates" class=template><label ng-class="{active: (templates.index === templates[$index].name)} "><input type=radio id=radio{{$index}} name=template value={{template.name}} ng-model=templates.index ng-change=selectTemplate($index)> <img ng-src={{template.image_url}}> <span class=template_name>{{template.name}}</span></label></p></div><div class=template_list_more ng-if="templates.length > 4"></div><p class=description>{{selected.description}}</p></div><div ng-if=loading class="loading loadingTemplates">Loading templates...</div></div></div>'),a.put("app/projects/create/wizard/step1/step1.tpl.html",'<div class=step1><div class=working_area><ol class=steps><li>Provide HTML5 code</li></ol><md-radio-group ng-model=origin ng-change=resetValidation()><md-radio-button value=template>Using a template</md-radio-button><md-radio-button value=url>Your site\'s URL</md-radio-button><md-radio-button value=zip>Drop zip file</md-radio-button><md-radio-button value=github>Github URL</md-radio-button></md-radio-group><ld-step-one-templates ng-if="origin === \'template\'"></ld-step-one-templates><ld-step-one-url ng-if="origin === \'url\'"></ld-step-one-url><ld-step-one-zip ng-if="origin === \'zip\'"></ld-step-one-zip><ld-step-one-github ng-if="origin === \'github\'"></ld-step-one-github></div><div class=md-actions><md-button ng-click=cancel() class="md-raised md-warn" analytics-on=click analytics-event="Cancel 1 Guided Creation Create New From Dashboard">Cancel</md-button><md-button ng-show=disabled class="md-raised md-primary" ng-disabled=true analytics-on=click analytics-event="Next 1 Guided Creation Create New From Dashboard">Next</md-button><md-button ng-show=!disabled class="md-raised md-primary" ng-class="{\'btn_loading\': processing}" ng-click=next() analytics-on=click analytics-event="Next 1 Guided Creation Create New From Dashboard">Next</md-button></div></div>'),a.put("app/projects/create/wizard/step1/step1.url.tpl.html",'<div class=option_url><!--\n	<p class="description">Lorem ipsum</p>\n	--><div class=form><form name=form novalidate><div class=form-group><label for=customContent>Your site\'s url:</label><input ng-keyup=checkContent() type=url id=customContent name=customContent class=form-control ng-model=gh.customContent ng-class="{ \'has-error\': form.customContent.$invalid && form.customContent.$dirty}" required><p class="help-block ng-hide" ng-show="form.customContent.$invalid && form.customContent.$dirty">Invalid Url</p></div></form></div></div>'),a.put("app/projects/create/wizard/step1/step1.zip.tpl.html",'<div ng-controller=stepOneZipController class="project_card bodycontent ng-pristine ng-untouched ng-valid {{status}}" ng-file-drop="" ng-model=file ng-accept=validate($file) drag-over-class="{accept:\'status_dragging\', reject: \'status_invalid\', delay: 100}" ng-multiple=false allowdir=false><!--drag-over-class="{accept:\'status_dragging\', reject:\'status_failed\', delay:100}"--><div class=status_start><ld-claim-drop></ld-claim-drop></div><div class=status_dragging><p>Drop file here</p></div><div class=status_invalid><p>Must be a zip file</p></div><div class=status_processing><p>Processing</p></div><div class=status_uploaded><div class=message-container><div><p class=title>File uploaded successfully.</p><p class=description>Click next to continue</p></div></div></div><div ng-show=file class=status_uploading><div><p class=file-name>File:{{file[0].name}}</p><p ng-show=file[0].name class=file-size>{{file[0].size|filesizeFilter}}</p><p ng-show="progress >= 0" class=file-progress>{{progress}}% uploaded</p><md-progress-linear ng-show="progress >= 0" md-mode=determinate ng-value=progress></md-progress-linear><!--<a href="#"class="upload-cancel" ng-click="dropAgain();">Cancel</a>--></div></div><div class=status_failed><projectcard-message></projectcard-message></div></div>'),a.put("app/projects/create/wizard/step2/step2.tpl.html",'<div class=step2><div class=working_area><ol class=steps><li class=check>Provide HTML5 code</li><li>Choose webview</li></ol><div class=options><md-radio-group ng-model=environments.index><md-radio-button value=0 name=env>{{environments[0]}}</md-radio-button><md-radio-button value=1 name=env>{{environments[1]}}</md-radio-button><md-radio-button value=2 name=env>{{environments[2]}}</md-radio-button></md-radio-group></div><p class=webview ng-if="environments.index === \'2\'">Canvas+ is a custom webview engine optimized for canvas operations. It provides a subset of the standard HTML5 functionalities and is specially designed to run canvas based games and 2D/3D animation. It has limited DOM access, but you gain native performance to your 2D/3D games. Achieve 60FPS in your game with minor code changes!</p><p class=webview ng-if="environments.index === \'1\'">Webview+ is a custom webview engine exclusive for android 4.0.0 and higher or iOS 8 and higher. Webview+ on android is based on crosswalk project. Webview+ for iOS is based on iOS 8s WKWebview It provides a uniform execution environment for any android and iOS devices.</p><p class=webview ng-if="environments.index === \'0\'">System Webview provides a complete HTML5 webview engine based in the webview of the host device. It has full DOM access. However, the performance and features available rely on the host OS.</p></div><div class=md-actions><md-button class="md-raised md-warn" ng-click=cancel() analytics-on=click analytics-event="Cancel 2 Guided Creation Create New From Dashboard">Cancel</md-button><md-button class="md-raised md-primary" ng-click=next() analytics-on=click analytics-event="Next 2 Guided Creation Create New From Dashboard">Next</md-button></div></div>'),
a.put("app/projects/create/wizard/step3/step3.tpl.html",'<div class=step3><div class=working_area><ol class=steps><li class=check>Provide HTML5 code</li><li class=check>Choose webview</li><li>Fill project data</li></ol><div class=form><div class=form-group><label for=projectName>Project Name:</label><input type=text ng-model=projectName value="{{projectName}}"><!--<p class="help-block">Help or error message</p>--></div><div class=form-group><label for=bundleId>Project package name:</label><input type=text ng-model=bundleId value={{bundleId}} name="bundleid"><!--<p class="help-block">Help or error message</p>--></div></div></div><div class=md-actions><md-button class="md-raised md-warn" ng-click=cancel() analytics-on=click analytics-event="Cancel 3 Guided Creation Create New From Dashboard">Cancel</md-button><md-button class="md-raised md-primary" ng-class="{\'btn_loading\': processing}" ng-click=finish() analytics-on=click analytics-event="Save Guided Creation Create New From Dashboard">Finish</md-button></div></div>'),a.put("app/projects/create/wizard/wizard-main.tpl.html",'<md-dialog><md-content class=wizard-container><h2>Project creation wizard</h2><div class=wizard-content><div ng-if="step === 1"><ld-wizard-step-one></ld-wizard-step-one></div><div ng-if="step === 2"><ld-wizard-step-two></ld-wizard-step-two></div><div ng-if="step === 3"><ld-wizard-step-three></ld-wizard-step-three></div><div ng-if=error class="notice error" ng-bind-html=msg></div></div></md-content><div ng-if=error class=error ng-bind-html=msg></div><!--<div class="md-actions">--><!--<md-button ng-click="confirm(false)" analytics-on="click" analytics-event="cancelDeleteProject">Cancel</md-button>--><!--<md-button class="md-warn md-raised" ng-click="confirm(true)" analytics-on="click" analytics-event="confirmDeleteProject">Delete</md-button>--><!--</div>--></md-dialog>'),a.put("app/projects/detail/analytics/analytics.html",'<!-- analytics --><section class=analytics><div class=content><h2>Analytics</h2><div class=bodycontent><nav class="level2 nav_date"><ul><li><a href=#>today</a></li><li class=active><a href=#>7 days</a></li><li><a href=#>30 days</a></li><li><a href=#>60 days</a></li><li><a href=#>90 days</a></li></ul><p>Oct 18th - Oct 24th</p></nav><div class=content_dates>aqui info dates</div><nav class="level2 nav_activity"><ul><li class=active><a href=#>Total sessions</a></li><li><a href=#>Total users</a></li><li><a href=#>New users</a></li><li><a href=#>Avg. Time Spent</a></li><li><a href=#>Events served</a></li><li><a href=#>Avg. Events served</a></li></ul></nav><div class=content_activity>aqui info activity</div></div></div></section><!-- ./analytics -->'),a.put("app/projects/detail/cipher/cipher.tpl.html",'<div layout=row ng-if=project><p flex=20 layout=column class=aside><span>Encryption</span></p><div flex=80 class=column_content><p>Secure all your code and assets with the Cocoon source code encrypter. A real 128-bit AES encryption algorithm that will make your code much safer than simple JavaScript obsfuscation. <a class=icohelp target=_blank ng-href="http://docs.cocoon.io/article/encryption/" title=Help analytics-on=click analytics-event="Encryption Help From ProjectPage"><span>help</span></a></p><p class=login-message ng-if=cipherError ng-class="{\'success\' :success}">{{cipherError}} <a ng-click=dismissCipherError() class=dismiss href=#>Dismiss</a></p><div ng-if=!cipher.canCipher class=actions><md-button class="md-raised md-primary" ng-click=goToPricing()>Upgrade plan</md-button></div><form ng-if=cipher.canCipher name=form ng-submit=saveKey(form) novalidate><div class=form><div class=form-group style=padding-top:10px><label for=cipherKey><strong>Key</strong></label><input id=cipherKey type=text name=cipherKey ng-model=cipher.key class="form-control"> <a ng-href=# ng-click=generateKey(); title=Help style=display:inline><i class="fa fa-magic"></i></a></div><div layout=row layout-align=center class=md-actions ng-if=cipher.changed() style=padding-top:20px><md-button ng-disabled=cipher.saving type=button ng-class="[\'md-raised\',\'md-warn\']" ng-click=resetKey() analytics-on=click analytics-event="Reset Encryption From ProjectPage">Reset</md-button><span style=width:20px></span><md-button type=submit ng-class="[\'md-raised\',\'md-primary\', cipher.saving?\'btn_loading\':\'\']" analytics-on=click analytics-event="Save Encryption From ProjectPage">Save</md-button></div></div></form></div></div>'),a.put("app/projects/detail/delete.tpl.html",'<md-dialog><md-content><h2>Are you sure?</h2><p>This project and all its contents will be deleted. This action can\'t be undone.</p></md-content><div class=md-actions><md-button ng-click=confirm(false) analytics-on=click analytics-event="Cancel Delete Project From ProjectPage">Cancel</md-button><md-button class="md-warn md-raised" ng-click=confirm(true) analytics-on=click analytics-event="Delete Project From ProjectPage">Delete</md-button></div></md-dialog>'),a.put("app/projects/detail/devapp/devapp.tpl.html",'<div layout=row ng-if=project><p flex=20 layout=column class=aside><span>Developer app</span></p><div flex=80 class=column_content><p>The developer app is a mobile native app to ease your development process. It will include all the same settings as you have configured in this project but with a user interface to ease the testing of your application. <a class=icohelp target=_blank ng-href="http://docs.cocoon.io/article/developer-app/" title=Help analytics-on=click analytics-event="Developer App Help From ProjectPage"><span>help</span></a></p><div class=actions><md-button class="md-raised md-primary" ng-class="{\'btn_loading\': awaitingForResponse}" analytics-on=click analytics-event="Compile Developer App From ProjectPage" ng-click=triggerDevApp($scope.project.id)>Compile developer app</md-button></div></div></div>'),a.put("app/projects/detail/migration/closechecklistdialog.tpl.html",'<md-dialog flex=50><md-content><div class=createGithub><h2>Migration help</h2><p>The migration help will be permanently closed but information regarding the migration will be sent in an email and is available in the knowledge center</p><div class=md-actions><md-button class=md-raised ng-click=confirm(false) analytics-on=click analytics-event="Migration Checklist Dialog Cancel">Cancel</md-button><md-button class="md-raised md-primary" ng-click=confirm(true) analytics-on=click analytics-event="Migration Checklist Dialog Close">Close</md-button></div></div></md-content></md-dialog>'),a.put("app/projects/detail/migration/migrationchecklist.tpl.html",'<section class=migration ng-show=checklist.show><h2>Migration Help</h2><div class=content_wrap><p class=description>This project has been automatically migrated from the old CocoonJS cloud. In case you used plugins, they may require some action to work in the new Cocoon cloud. Below you can find guides to help you in this process.</p><ul><li><button ng-click="openGuide(\'http://docs.cocoon.io/article/migration-guide/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Guide">Guide</button></li><li><button ng-click="openGuide(\'http://docs.cocoon.io/article/migrating-the-application-configuration/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Project">Project Settings</button></li><li ng-if="migratedPlugins.inapps === true"><button ng-click="openGuide(\'http://docs.cocoon.io/article/inapp-purchases/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Inapps">Inapps</button></li><li ng-if="migratedPlugins.ads === true"><button ng-click="openGuide(\'http://docs.cocoon.io/article/ads/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Ads">Ads</button></li><li ng-if="migratedPlugins.gamecenter === true"><button ng-click="openGuide(\'http://docs.cocoon.io/article/game-center/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Game Center">Game Center</button></li><li ng-if="migratedPlugins.googleplaygames === true"><button ng-click="openGuide(\'http://docs.cocoon.io/article/migrating-google-play-games/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Google Play">Google Play Games</button></li><li ng-if="migratedPlugins.multiplayer === true"><button ng-click="openGuide(\'http://docs.cocoon.io/article/migrating-multiplayer/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Multiplayer">Multiplayer</button></li><li ng-if="migratedPlugins.facebook === true"><button ng-click="openGuide(\'http://docs.cocoon.io/article/migrating-cocoonjs-facebook/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Facebook">Facebook</button></li><li ng-if="migratedPlugins.notifications === true"><button ng-click="openGuide(\'http://docs.cocoon.io/article/migrating-cocoonjs-notifications/\')" class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Migration Checklist Notifications">Notifications</button></li></ul><span ng-click=openDialog() class=box_close analytics-on=click analytics-event="Migration Checklist Close Button">Close</span></div></section>'),a.put("app/projects/detail/project-detail.html",'<article class=projectdetail ng-controller=ProjectdetailCtrl><div ng-show=attempt class=loading>Loading&#8230;</div><div class=content><h1>Project</h1><project-card></project-card><div ng-if="project && project.migration"><migration-checklist></migration-checklist></div><section class="information projectdetailTabs xmlTabs"><div class=content ng-controller=TabdetailCtrl><h2>{{tabTitles[data.selectedIndex]}}</h2><div class=content-container><md-tabs class=md-accent md-selected=data.selectedIndex role=tablist md-stretch-tabs><md-tab ng-repeat="tab in tabTitles" id=tab{{data.selectedIndex}} aria-controls=tab{{data.selectedIndex}}-content analytics-on=click analytics-event="{{tab}} From ProjectPage">{{tab}}</md-tab></md-tabs><div class=tabpanel-container style=padding:0><div class=key_request ng-if=loadingXML></div><ng-switch ng-if=!loadingXML on=data.selectedIndex><div role=tabpanel id=tab1-content aria-labelledby=tab1 ng-switch-when=0 md-swipe-left=next() md-swipe-right=previous()><tab-settings></tab-settings></div><div role=tabpanel id=tab2-content aria-labelledby=tab2 ng-switch-when=1 md-swipe-left=next() md-swipe-right=previous()><tab-plugins></tab-plugins></div><div role=tabpanel id=tab3-content aria-labelledby=tab3 ng-switch-when=2 md-swipe-left=next() md-swipe-right=previous()><tab-icons></tab-icons></div><div role=tabpanel id=tab4-content aria-labelledby=tab4 ng-switch-when=3 md-swipe-left=next() md-swipe-right=previous()><tab-splash></tab-splash></div><div role=tabpanel id=tab5-content aria-labelledby=tab5 ng-switch-when=4 md-swipe-left=next() md-swipe-right=previous()><tab-xml></tab-xml></div><!--<div role="tabpanel" id="tab3-content" aria-labelledby="tab3" ng-switch-when="2" md-swipe-left="next()" md-swipe-right="previous()">--><!--<project-analytics></project-analytics>--><!--</div>--></ng-switch></div></div><div class="content content-develop-app"><h1>Developer app</h1><div class=content_wrap><dev-app></dev-app></div></div><div class="content content-cipher"><h1>Encryption</h1><div class=content_wrap><div class=key_request ng-if=loadingXML></div><cipher ng-if=!loadingXML></cipher></div></div><div class="content content-signing"><h1>Signing</h1><div class=content_wrap><project-key></project-key></div></div><div ng-if=project class="content content-repository"><h1>Repository</h1><div class=content_wrap><repository></repository></div></div></div></section><div class=common_actions><md-button ng-show=!loading class="md-raised md-warn" ng-click=showConfirm()>Delete Project</md-button></div></div></article>'),a.put("app/projects/detail/repository/repository.tpl.html",'<div style="padding:20px 0 20px 0"><item-msg></item-msg><form name=form ng-submit=requestUpdate(form) novalidate><div class=form><div class=form-group><label for=gitUrl><strong>Github Url</strong></label><input id=gitUrl type=url name=gitUrl class=form-control ng-model=gitData.url ng-model-options="{allowInvalid: true }" ng-class="{ \'has-error\': form.gitUrl.$invalid && githubChanged()}" gh-url required><p class="help-block ng-hide" ng-show="(form.gitUrl.$error.ghurl || form.gitUrl.$invalid) && !form.gitUrl.$error.required">Invalid Github Url</p><p class="help-block ng-hide" ng-show="form.gitUrl.$error.required && githubChanged()">The gitUrl Url is mandatory</p></div><div class=form-group><label for=gitBranch><strong>Branch/tag</strong></label><input id=gitBranch type=text name=gitBranch ng-model=gitData.branch class=form-control ng-class="{ \'has-error\': form.url.$invalid && submitted }"></div></div><div layout=row layout-align=center class=md-actions ng-show=githubChanged() style=padding-top:20px><md-button type=button class="md-raised md-warn" ng-click=resetGithub() analytics-on=click analytics-event="Reset Repository From ProjectPage">Reset</md-button><span style=width:20px></span><md-button type=submit class="md-raised md-primary" analytics-on=click analytics-event="Sync Repository From PorjectPage">Sync</md-button></div><div class=key_request ng-show=githubRequest></div></form></div>'),a.put("app/projects/detail/tabs/comingsoon.tpl.html","<md-dialog><md-content><h2>Coming soon</h2></md-content><div class=md-actions><md-button ng-click=confirm(true)>Exit</md-button></div></md-dialog>"),a.put("app/projects/detail/tabs/deviceSimulator.tpl.html",'<md-dialog class=device_simulator><md-content><h2>Device Simulator</h2><div class=aspect_ratio_selector><label for=device>Device</label><select class=wauto id=device ng-options="item.name for item in devices" ng-model=selectedDevice ng-change="changeDevice()"><span class=orientation title="Change orientation" ng-click=reverseDevice()>Change orientation</span> <input type=checkbox name=fit ng-model=fit ng-change="render(selectedDevice)">Fit</div><div class=simulator_holder style=width:1024px;height:768px><canvas id=device_simulator_canvas width=1024 height=768 style=width:100%;height:100% ng-init=render(selectedDevice)></canvas></div></md-content><div class=md-actions><md-button class=md-warn ng-click=confirm(true)>Exit</md-button></div></md-dialog>'),a.put("app/projects/detail/tabs/splashConfirm.tpl.html",'<md-dialog class=remove_splash><div ng-switch=state><div ng-switch-when=null ng-switch=step><div ng-switch-when=1 class=splash_purchase><md-content><h2>Payment method</h2><ol class=steps-wizard><li class=active>Payment method</li><li>Purchase details</li></ol><div><payment-method-form></payment-method-form></div></md-content><div class=md-actions><md-button class="md-raised md-warn md-button md-default-theme" ng-click=confirm(false) analytics-on=click analytics-event="Remove splash setpaymentmethod cancel">Cancel</md-button><md-button ng-click=next() class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Remove splash setpaymentmethod next">Next</md-button></div></div><div ng-switch-when=2 class=splash_purchase><md-content><h2>Splash purchase confirmation</h2><ol class=steps-wizard><li class=check>Payment method</li><li class=active>Purchase details</li></ol><div class=form><h3>You are about to buy the splash for the following bundleId:</h3>{{bundleId}}<h3>Price:</h3>$500<h3>Using the following payment method:</h3><div class=form-group><label>Payment type</label><input name=paymentType type=text disabled ng-model=paymentMethod.type></div><div class=form-group><label>Payment data</label><input name=paymentData type=text disabled ng-model=paymentMethod.info></div></div></md-content><div class=md-actions><md-button ng-click=back() class="button_2nd md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Remove splash purchase back">Back</md-button><md-button class="md-raised md-warn md-button md-default-theme" ng-click=confirm(false) analytics-on=click analytics-event="Remove splash purchase cancel">Cancel</md-button><md-button ng-click=purchase() class="md-raised md-primary md-button md-default-theme" analytics-on=click analytics-event="Remove splash purchase accept">Confirm</md-button></div></div></div><div ng-switch-when=loading class=splash_loading><md-content><h2>Loading</h2><p>Loading...</p></md-content></div><div ng-switch-when=error class=splash_error><md-content><h2>Splash purchase</h2><div class="notice error">There was an error purchasing your splash</div>{{message}}</md-content><div class=md-actions><md-button ng-click=confirm(false) class="md-raised md-primary md-button md-default-theme">Close</md-button></div></div><div ng-switch-when=success class=splash_success><md-content><h2>Splash purchase</h2><div class="notice success">Your splash has been successfully purchased</div></md-content><div class=md-actions><md-button ng-click=confirm(true) class="md-raised md-primary md-button md-default-theme">Close</md-button></div></div></div></md-dialog>'),a.put("app/projects/detail/tabs/sugarerror.tpl.html",'<div ng-if=sugarError.message class=mainerror><div class=error_content><p class=title>{{sugarError.title}}</p><p class=description>{{sugarError.message}}</p></div><div class=actions><span ng-if=!sugarError.parseError class=button ng-click=clearSugarError()>Dismiss</span> <span ng-if=sugarError.parseError class=button ng-click="data.selectedIndex = 4">Fix errors</span> <span ng-if=sugarError.billingError class=button ng-click=goToBilling()>Fix billing errors</span></div></div>'),a.put("app/projects/detail/tabs/tabicons.tpl.html",'<sugar-error></sugar-error><div layout=row ng-show=!sugarError.message><ul flex=20 layout=column class=sugarMenu><li ng-repeat="platform in platforms" class={{platform}} ng-class="isPlatformSelected(platform) ? \'active\' : \'\'"><a href=# ng-click=selectPlatform(platform);>{{platform | platformfilter}}</a></li></ul><div class=tab_maincontent><div class=notice ng-if=showIconsWarning>You have defined icons in your config.xml, those will have priority over these ones <a href=# class=dismiss ng-click=hideIconsWarning()>Close</a></div><div class=ico_drop style={{selectedIcon.getStyle()}}><!-- Drop area --><div ng-if=!selectedIcon.isSet() class=droparea ng-file-drop="" ng-model=drop.files ng-accept=validate($file) drag-over-class="{accept:\'status_dragging\', reject: \'status_invalid\', delay: 100}" ng-multiple=false allowdir=false><div class=content><p class=claim>Drop Image or <a ng-file-select="" ng-model=fileDialog class="upload-button ng-pristine ng-valid" ng-file-change="fileSelected($files, $event)" ng-multiple=false accept=.png,image/png allowdir=false href=# analytics-on=click analytics-event="Upload Icon Image From ProjectPage">Upload</a></p><p>Recommended 1024x1024 PNG</p><p class=error>Must be a PNG file</p><p class=dragging>Drop file here</p></div></div><!-- Uploading icon --><div class=status_uploading ng-if=selectedIcon.uploading><div><p class=file-name>File:{{selectedIcon.name}}</p><p class=file-size>{{selectedIcon.size|filesizeFilter}}</p><p class=file-progress>{{selectedIcon.progress}}% uploaded</p><md-progress-linear md-mode=determinate ng-value=selectedIcon.progress></md-progress-linear></div></div><!-- Processing (Downloading or deleting) icon image --><div class=status_processing ng-if=selectedIcon.isProcessing()><p>Processing</p></div><span ng-if="selectedIcon.isReady() && !selectedIcon.deleting" ng-click=removeIcon() class=remove title=Remove analytics-on=click analytics-event="Remove Icon Image From ProjectPage">Remove</span></div></div></div><div class=tab_mainactions><span class="save disabled" title=Save analytics-on=click analytics-event="Save Icon Changes From ProjectPage">Save</span> <span class="reset disabled" title=Reset analytics-on=click analytics-event="Erase Icon Changes From ProjectPage">Reset</span></div>'),a.put("app/projects/detail/tabs/tabplugins.tpl.html","<sugar-error></sugar-error><div layout=row ng-show=!sugarError.message><ul flex=20 layout=column class=sugarMenu><li ng-repeat=\"option in menuOptions\" ng-class=\"selectedOption === option  ? 'active' : ''\"><a href=# ng-click=selectOption(option); analytics-on=click analytics-event=\"{{menuTitles[option]}} Plugins From ProjectPage\">{{menuTitles[option]}}</a></li></ul><div class=tab_maincontent ng-class=\"{'has_category_filter':selectedOption === 'cocoon' || selectedOption === 'search'}\"><!-- Loading Animation--><div class=key_request ng-if=loadingPlugins></div><div ng-if=!loadingPlugins flex=80 class=sugarDiv><div class=category_filter><!--Pretty select fo filter plugins powered by Cocoon--><select ng-if=\"selectedOption === 'cocoon'\" ng-model=selectedCocoonFilter ng-options=\"filter.optionTitle for filter in cocoonFilters\" ng-change=updateCocoonFilter(selectedCocoonFilter)></select><!--search input for search menu--><div ng-if=\"selectedOption === 'search'\"><div class=input><input type=text placeholder=Search... ng-model=searchFilter ng-change=\"updateSearchFilter(searchFilter)\"></div></div></div><!--Plugin List And Detail--><div ng-if=pluginList.length layout=row><div class=plugin-list><ul><li ng-repeat=\"plugin in pluginList\" ng-click=selectPlugin(plugin) ng-class=\"selectedPlugin === plugin  ? 'active' : ''\"><div class=version>{{pluginVersion(plugin)}}</div><div class=installed ng-if=plugin.installed>Installed</div><div class=title>{{pluginTitle(plugin)}}</div><div class=name>{{plugin.name}}</div></li></ul></div><!--Plugin Detail--><div class=plugin-detail ng-if=selectedPlugin><div class=plugin-detail-content><header><h2>{{pluginTitle(selectedPlugin)}}</h2><p><md-button class=small ng-class=\"['md-raised', selectedPlugin.installed ? 'md-warn':'md-primary']\" ng-click=installPlugin(selectedPlugin) analytics-on=click analytics-event=\"{{selectedPlugin.installed ? 'Install' : 'Uninstall'}} Plugin From ProjectPage\" analytics-label={{pluginTitle(selectedPlugin)}}>{{selectedPlugin.installed ? 'Uninstall' : 'Install'}}</md-button></p></header><hr><div class=features><p ng-if=selectedPlugin.homepage><strong>Documentation:</strong> <span class=value><a ng-href={{selectedPlugin.homepage}} target=_blank>Available</a></span></p><p><strong>Version:</strong> <span class=value><select ng-disabled=!selectedPlugin.installed ng-model=versions.selected ng-options=\"tag for tag in versions.tags\" ng-change=installVersion()></select></span></p><p><strong>PluginId:</strong> <span class=value>{{selectedPlugin.name}}</span></p><p><strong>Modified:</strong> <span class=value>{{pluginDate(selectedPlugin)}}</span></p><p><strong>Description:</strong> <span class=value>{{selectedPlugin.description}}</span></p><p class=platforms><strong>Platforms:</strong> <span ng-repeat=\"platform in selectedPlugin.platforms\" ng-class=\"{\n              'android' : 'android',\n              'ios' : 'apple',\n              'amazon-fireos': 'fireos',\n              'wp8' : 'windows',\n              'wp7' : 'windows',\n              'windows8': 'windows',\n              'windows': 'windows',\n              'blackberry10':'blackberryos',\n              'firefoxos':'firefoxos',\n              'tizen':'tizen',\n"+'              \'ubuntu\':\'ubuntu\'}[platform]" title="{{platform | platformfilter}}">{{platform | platformfilter}}</span></p></div><!-- Optional plugin parameters--><hr ng-if="selectedPlugin.installed"><div class=parameters ng-if=selectedPlugin.installed><p class=action_add><md-button class="md-primary small md-raised" ng-click=addPluginParameter() analytics-on=click analytics-event="Add Installed Plugins Parameter From ProjectPage">Add Parameter</md-button></p><ul><li ng-repeat="param in pluginParameters"><span class=name><span class=label>Name:</span> <input type=text ng-model=param.name ng-model-options="{ getterSetter: true}"></span> <span class=value><span class=label>Value:</span> <input type=text ng-model=param.value ng-model-options="{ getterSetter: true}"></span> <span class=actions><span class=remove ng-click=param.remove() title=Remove>Remove</span></span></li></ul></div></div></div></div><!-- Custom git url --><div ng-if="selectedOption === \'custom\'"><form name=form ng-submit=installCustomPlugin(form) novalidate><div class=form><div class=form-group><label for=pluginUrl><strong>Git Url</strong></label><input id=pluginUrl type=url name=pluginUrl class=form-control ng-model=gitData.url ng-model-options="{allowInvalid: true }" ng-class="{ \'has-error\': form.pluginUrl.$invalid && (customFormSubmitted || gitData.url.length > 0)}" gh-url required><p class="help-block ng-hide" ng-show="(form.pluginUrl.$error.ghurl || form.pluginUrl.$invalid) && !form.pluginUrl.$error.required">Invalid git Url</p><p class="help-block ng-hide" ng-show="form.pluginUrl.$error.required && customFormSubmitted">The Git Url is mandatory</p></div><div class=form-group><label for=pluginBranch><strong>Branch/tag</strong></label><input id=pluginBranch type=text name=gitBranch ng-model=gitData.branch class="form-control"></div><div class=form-group><label for=pluginSubdir><strong>Subdir</strong></label><input id=pluginSubdir type=text name=pluginSubdir ng-model=gitData.branch class="form-control"></div><div layout=row layout-align=center class=md-actions style=padding-top:20px><md-button type=submit class="md-raised md-primary" analytics-on=click analytics-event="Install Custom Plugin From ProjectPage">Install</md-button></div></div></form><br><p class="login-message success" ng-show=customInstallMessage.show>Plugin installed succesfully <a ng-click="customInstallMessage.show = false" class=dismiss analytics-on=click analytics-event=dismissMsg href=#>Dismiss</a></p></div><!--Placeholder when the plugin list is empty--><div ng-if="pluginList.length === 0 && selectedOption !== \'custom\'"><br>{{getPlaceholder()}}</div></div></div></div><div class=tab_mainactions><p class=warning ng-if=isXMLChanged()>You have unsaved changes</p><span class=save ng-click=savePluginsSugar() ng-class="{\'disabled\': !isXMLChanged(), \'ico_loading\': savingXml }" title=Save analytics-on=click analytics-event="Save Plugins Changes From ProjectPage">Save</span> <span class=reset ng-click=restoreConfigXml() ng-class="{\'disabled\': !isXMLChanged() || savingXml }" title=Reset analytics-on=click analytics-event="Erase Plugins Changes From ProjectPage">Reset</span></div>'),a.put("app/projects/detail/tabs/tabsettings.tpl.html",'<sugar-error></sugar-error><div layout=row ng-show=!sugarError.message><ul flex=20 layout=column class=sugarMenu><li ng-repeat="platform in platforms" ng-class="[platform,\n                                                      isPlatformSelected(platform) ? \'active\' : \'\',\n                                                      isPlatformEnabled(platform) ? \'platformEnabled\' : \'platformDisabled\']"><a href=# ng-click=selectPlatform(platform);>{{platform | platformfilter}}</a> <span ng-if="platform !== \'default\'" ng-click=toggleEnabled(platform)></span></li></ul><div class="tab_maincontent form"><p ng-if=!isDefault() style=text-align:right;font-size:0.8em;float:right>Cordova {{selectedPlatform}} v{{cordovaVersion}} <a title=Help class=icohelp target=_blank ng-href="http://docs.cocoon.io/article/project-configuration/"><span>help</span></a></p><div><md-checkbox ng-if=!isDefault() class=eula name=enable ng-model=enabled ng-model-options="{ getterSetter: true }">Active for compilation</md-checkbox></div><div ng-if=!isDefault()><hr></div><div ng-if=isDefault() class=form-group><label for=settings_cocoonversion>Cocoon version:</label><select id=settings_cocoonversion ng-model=cocoonVersion.selected ng-options="version for version in cocoonVersion.tags" ng-change=installCocoonVersion()></select><a title=Help href="http://docs.cocoon.io/article/project-configuration/" target=_blank class=icohelp><span>help</span></a></div><div class=form-group><label for=settings_environment>Webview engine:</label><select id=settings_environment ng-disabled=!canEditSettings() ng-model=environment ng-model-options="{ getterSetter: true }"><option value=0>Webview</option><option value=1>Webview+</option><option value=2>Canvas+</option></select><a title=Help class=icohelp target=_blank ng-href="http://docs.cocoon.io/article-category/webview-engines/"><span>help</span></a></div><hr><md-content class=specific-settings><div class=form-group><label for=settings_environment>Bundle Id:</label><input type=text id=bundleid name=bundleid ng-class="{\'has-error\': form.bundleid.$error.pattern}" ng-disabled=!canEditSettings() ng-model=bundleId ng-model-options="{ getterSetter: true, allowInvalid: true }" ng-pattern="/([\\w\\d]+\\.)+[\\w\\d]+$/" placeholder="{{getBundleIdPlaceholder()}}"></div><div class=form-group><label for=version>{{versionLabelForPlatform(selectedPlatform)}}</label><input type=text name=version id=version ng-class="{\'has-error\': form.version.$error.pattern}" ng-disabled=!canEditSettings() ng-model=version ng-model-options="{ getterSetter: true, allowInvalid: true }" ng-pattern="/([\\d]+\\.)+[\\d]+$/" placeholder="{{getVersionPlaceholder()}}"></div><div ng-if=!isDefault() class=form-group><label for=versionCode>{{versionCodeLabelForPlatform(selectedPlatform)}}</label><input type=text name=versionCode id=versionCode ng-class="{\'has-error\': form.version.$error.pattern}" ng-disabled=!canEditSettings() ng-model=versionCode ng-model-options="{ getterSetter: true, allowInvalid: true }" ng-pattern="/([\\d]+\\.)+[\\d]+$/" placeholder="{{getVersionCodePlaceholder()}}"></div><div class=form-group><label for=appName>Name:</label><input type=text name=appName id=appName ng-class="{\'has-error\': form.appName.$error.required}" ng-disabled=!canEditSettings() ng-model=appName ng-model-options="{ getterSetter: true, allowInvalid: true }" placeholder="{{getNamePlaceHolder()}}"></div><div class=form-group><label for=orientation>Orientation:</label><select id=orientation ng-disabled=!canEditSettings() ng-model=orientation ng-model-options="{ getterSetter: true }" ng-class="{\'inherit\':\'placeholder\'}[orientation()]"><option ng-if=selectedPlatform value=inherit class=placeholder>({{getOrientationPlaceholder()}})</option><option value=0 class=value>{{getOrientationTitle(0)}}</option><option value=1 class=value>{{getOrientationTitle(1)}}</option><option value=2 class=value>{{getOrientationTitle(2)}}</option><option value=3 class=value>{{getOrientationTitle(3)}}</option></select></div><div class=form-group><label for=fullscreen>Fullscreen:</label><select id=fullscreen ng-disabled=!canEditSettings() ng-model=fullscreen ng-model-options="{ getterSetter: true }" ng-class="{\'inherit\':\'placeholder\'}[fullscreen()]"><option ng-if=selectedPlatform value=inherit class=placeholder>({{getFullscreenPlaceholder()}})</option><option value=false class=value>No</option><option value=true class=value>Yes</option></select></div><div class=form-group><label for=content>Content URL:</label><input type=text name=content id=content ng-disabled=!canEditSettings() ng-model=content ng-model-options="{ getterSetter: true, allowInvalid: true }" placeholder="{{getContentPlaceholder()}}"></div><div ng-if="selectedPlatform === \'android\'" class=form-group><label for=minSDKVersion>minSDKVersion:</label><select id=minSDKVersion ng-disabled=!canEditSettings() ng-model=minSDKVersion ng-model-options="{ getterSetter: true }" ng-class="{\'default\':\'placeholder\'}[minSDKVersion()]"><option ng-repeat="version in [\'default\',23,22,21,20,19,18,17,16,15,14]" value={{version}} class=value>{{version}}</option></select></div><div ng-if="selectedPlatform === \'android\'" class=form-group><label for=targetSDKVersion>targetSDKVersion:</label><select id=targetSDKVersion ng-disabled=!canEditSettings() ng-model=targetSDKVersion ng-model-options="{ getterSetter: true }" ng-class="{\'default\':\'placeholder\'}[targetSDKVersion()]"><option ng-repeat="version in [\'default\',23,22,21,20,19,18,17,16,15,14]" value={{version}} class=value>{{version}}</option></select></div><div ng-if="selectedPlatform === \'android\'" class=form-group><label for=installLocation>Install Location:</label><select id=installLocation ng-disabled=!canEditSettings() ng-model=installLocation ng-model-options="{ getterSetter: true }" ng-class="{\'internalOnly\':\'placeholder\'}[installLocation()]"><option value=internalOnly class=inherit>Internal Only</option><option value=auto class=value>Auto</option><option value=preferExternal class=value>Prefer External</option></select></div><div ng-if="selectedPlatform === \'android\'" class=form-group><label for=multidex>Multidex enabled:</label><select id=multidex ng-disabled=!canEditSettings() ng-model=multidex ng-model-options="{ getterSetter: true }" ng-class="{\'false\':\'placeholder\'}[multidex()]"><option value=false class=value>No</option><option value=true class=value>Yes</option></select></div></md-content></div></div><div class=tab_mainactions><p class=warning ng-if=isXMLChanged()>You have unsaved changes</p><span class=save ng-click=saveConfigSugar() ng-class="{\'disabled\': !isXMLChanged(), \'ico_loading\': savingXml }" title=Save analytics-on=click analytics-event="Save Settings Changes From ProjectPage">Save</span> <span class=reset ng-click=restoreConfigXml() ng-class="{\'disabled\': !isXMLChanged() || savingXml }" title=Reset analytics-on=click analytics-event="Erase Settings Changes From ProjectPage">Reset</span></div>'),
a.put("app/projects/detail/tabs/tabsplash.tpl.html",'<sugar-error></sugar-error><div layout=row ng-show=!sugarError.message><ul flex=20 layout=column class=sugarMenu><li ng-repeat="platform in platforms" class={{platform}} ng-class="isPlatformSelected(platform) ? \'active\' : \'\'"><a href=# ng-click=setPlatform(platform);>{{platform | platformfilter}}</a></li></ul><div class=tab_maincontent style="padding-top: 0"><!-- Loading Animation--><div class=key_request ng-show=checkingSplash></div><div class=splash_container ng-show=!checkingSplash><div class=splash ng-show=showCoreSplash><div class="image empty"><canvas id=cocoon_core_splash width=401 height=611 style="width: 100%;height:100%"></canvas></div><div class=simulator><a href=# ng-click=showDeviceSimulator() title="Device Simulator">Device Simulator</a></div><div class=actions><button class="md-raised md-warn md-button md-default-theme" ng-click=removeSplashAttempt()>REMOVE SPLASH</button></div><span class=remove title=Remove ng-click=removeSplashAttempt()>Remove</span></div><div class=splash><div class=image><canvas id=cocoon_splash_canvas width=401 height=611 style="width: 100%;height:100%" ng-show="selectedSplash.splash && !selectedSplash.isLoading()"></canvas></div><div class=simulator><a href=# ng-click=showCustomDeviceSimulator() title="Device Simulator">Device Simulator</a></div><div class=droparea ng-if=!selectedSplash.isSet() ng-file-drop="" ng-model=drop.files ng-accept=validate($file) drag-over-class="{accept:\'status_dragging\', reject: \'status_invalid\', delay: 100}" ng-multiple=false allowdir=false><p class=claim>Drop Image or <a ng-file-select="" ng-model=fileDialog class="upload-button ng-pristine ng-valid" ng-file-change="fileSelected($files, $event)" ng-multiple=false accept=.png,image/png allowdir=false href=# analytics-on=click analytics-event="Upload Splash Image From ProjectPage">Upload</a> <span>Recommended 2048x2048 PNG *</span> <span class=note>* You can upload an splash and place it in the center with a fixed background color. If you want a custom background we recommend that you select a 2048x2048 PNG where the logo or other important artwork is placed within the center 1000x1000 pixels or so.</span></p><p class=error>Must be a PNG file</p><p class=dragging>Drop file here</p></div><!-- Uploading image --><div class=status_uploading ng-if=selectedSplash.uploading><div><p class=file-name>File:{{selectedSplash.name}}</p><p class=file-size>{{selectedSplash.size|filesizeFilter}}</p><p class=file-progress>{{selectedSplash.progress}}% uploaded</p><md-progress-linear md-mode=determinate ng-value=selectedSplash.progress></md-progress-linear></div></div><!-- Processing (Downloading or deleting) image --><div class=status_processing ng-if=selectedSplash.isProcessing()><p>Processing</p></div><div class=fields><p class=field><label for=f4>Scale Mode</label><select id=f4 ng-model=scaleMode ng-model-options="{ getterSetter: true }" ng-class="{\'inherit\':\'placeholder\'}[scaleMode()]"><option ng-if="selectedPlatform !== \'default\'" value=inherit class=placeholder>({{scaleModePlaceholder()}})</option><option value=scaleAspectFit class=value>Aspect Fit</option><option value=scaleAspectFill class=value>Aspect Fill</option><option value=scaleToFill class=value>Fill</option></select></p><p class=field><label for=f2>Padding</label><input id=f2 class="fieldbox wauto" size=5 ng-model=padding ng-model-options="{ getterSetter: true, allowInvalid: true }" placeholder="{{paddingPlaceholder()}}"></p><p class=field><label for=f3>Background Color</label><input id=f3 class="fieldbox wauto" size=7 ng-model=bgcolor ng-model-options="{ getterSetter: true, allowInvalid: true }" placeholder="{{bgcolorPlaceholder()}}"></p><p class=field><label for=f1>Delay (seconds)</label><input id=f1 class="fieldbox wauto" size=5 ng-model=delay ng-model-options="{ getterSetter: true, allowInvalid: true }" placeholder="{{delayPlaceholder()}}"></p></div><span class=remove title=Remove ng-if=selectedSplash.isSet() ng-click=removeUserSplash() analytics-on=click analytics-event="Remove Splash Image From ProjectPage">Remove</span></div></div></div></div><div class=tab_mainactions><span class=save ng-click=saveSplashesSugar() ng-class="{\'disabled\': !isXMLChanged(), \'ico_loading\': savingXml }" title=Save analytics-on=click analytics-event="Save Splash Changes From ProjectPage">Save</span> <span class=reset ng-click=restoreConfigXml() ng-class="{\'disabled\': !isXMLChanged() || savingXml }" title=Reset analytics-on=click analytics-event="Erase Splash Changes From ProjectPage">Reset</span></div>'),a.put("app/projects/detail/tabs/tabxml.tpl.html",'<sugar-error></sugar-error><div style=padding:0 ng-show=!sugarError.message><div style="background-color: black; height:5px"></div><section><div class=animate-show style=height:640px ui-ace="{\n                useWrapMode : true,\n                theme:\'twilight\',\n                mode: \'xml\',\n                firstLineNumber: 1,\n                onLoad: aceLoaded,\n                onChange: aceChanged\n              }"></div></section><div class=tab_mainactions><p class=warning ng-if=isXMLChanged()>You have unsaved changes</p><span class=undo ng-click=undo() ng-class="{\'disabled\': !hasUndo() || savingXml}" title=Undo>Undo</span> <span class=redo ng-click=redo() ng-class="{\'disabled\': !hasRedo() || savingXml}" title=Redo>Redo</span> <span class=save ng-click=save() ng-class="{\'disabled\': !isXMLChanged(), \'ico_loading\': savingXml }" title=Save analytics-on=click analytics-event="Save Config XML Changes From ProjectPage">Save</span> <span class=reset ng-click=restoreConfigXml() ng-class="{\'disabled\': !isXMLChanged() || savingXml }" title=Reset analytics-on=click analytics-event="Erase Config XML Changes From ProjectPage">Reset</span></div></div>'),a.put("app/projects/detail/xml.tpl.html","<md-dialog><md-content><h2>Override config XML</h2></md-content><div class=md-actions><md-button ng-click=confirm(false) analytics-on=click analytics-event=cancelSaveXml>Cancel</md-button><md-button class=md-warn ng-click=confirm(true) analytics-on=click analytics-event=confirmSaveXml>Save</md-button></div></md-dialog>"),a.put("app/projects/messages/message.html","<div><p class=title>{{messageTitle}}</p><p class=description>Reason: {{error}}</p><p class=actions><span class=dismiss ng-click=resetStatus() analytics-on=click analytics-event=resetCardErrorMsg><a href=# class=button>Dismiss</a></span></p></div>"),a.put("app/projects/projects.html",'<section class=projects ng-cloak><div class=content><h1>Projects</h1><ul ng-class=className ng-cloak><li ng-if=!loadingProjects><project-card></project-card></li><li ng-if=loadingProjects ng-repeat="cardMode in [\'loading\']"><project-card></project-card></li><li ng-if=projects ng-repeat="project in projects" class=animate-repeat><project-card></project-card></li></ul></div><!-- /.content --></section><!-- /.projects --><news-feed></news-feed>'),a.put("app/publishedwith/published-with.html",'<!-- published --><section class=published ng-cloak><div class=content><h2>Published with Cocoon</h2><div ng-show=publishedList.length><ul class=published><li ng-repeat="published in publishedList | limitTo:4"><div class=info_container><div class=front_view><div class=image style="background-image:url({{published.imageURL || published.squareImageURL }})"><img ng-src="{{published.imageURL || published.squareImageURL }}" alt="{{published.imgAlt}}"></div></div><div class=back_view><a class=playnow href={{published.playURL}} analytics-on=click analytics-event=playGameOnline>Play now</a><ul class=app_links><li ng-repeat="store in published.stores"><a class={{store.store.style}} href={{store.url}}>{{store.store.longname}}</a></li></ul></div></div><a href={{published.playURL}} class=title>{{published.name}}</a></li></ul></div><div ng-hide=publishedList.length><ul class=published><li ng-repeat="i in [1, 2, 3, 4]"><div class=info_container><div class=front_view><div class=image></div></div><div class=back_view></div></div><a href=# class=title></a></li></ul></div></div></section><!-- /.published -->'),a.put("components/footer/footer.html",'<div class=csj_footer ng-controller=userFooterCtrl><div class=csj_content><p class=csj_copy>Copyright  2015-{{currentYear}} Ludei</p><p class=csj_social><a href=https://www.twitter.com/cocoon_io target=_blank class=csj_twitter analytics-on=click analytics-event="Twitter Footer From CloudFooter">Twitter</a> <a href=https://www.facebook.com/cocoon.io target=_blank class=csj_facebook analytics-on=click analytics-event="Facebook Footer From CloudFooter">Facebook</a></p></div><!-- /.csj_content --></div><!-- /.csj_footer -->'),a.put("components/header/appheader/app-header.html",'<div id=csj_header ng-controller=userHeaderCtrl class=logged><div class=csj_content><div id=csj_logo_wrap><a href="/home/"><div id=csj_logo></div></a><!--\n	    	<div ng-if="username" id="csj_logo_menu">\n            <a ng-href="/home" analytics-on="click" analytics-event="showyProjects">PROJECTS</a>\n	    	</div>\n	    	--></div><user-header></user-header></div><!-- /.csj_content --><div id=csj_topnav><a href="/">Menu</a></div></div><!-- /#csj_header -->'),a.put("components/header/userheader/user-header.html",'<div ng-mouseleave=hidemenu()><user-menu></user-menu><nav ng-if=username id=csj_menu_user class=csj_logged><div class=csj_userinfo><img ng-src="https://secure.gravatar.com/avatar/{{hash}}?d={{defaultIconUrlEnc}}" alt="{{username}} avatar"><!--TODO\n      <span class="csj_num_alerts">2</span>--><div class=csj_username_holder><span class=csj_username ng-mouseover=showmenu()>{{username|usernameFilter}}</span><ul ng-show=clicked class="animate-show logout" ng-mouseleave=hidemenu()><li><a ng-href=/home analytics-on=click analytics-event="Projects Avatar From {{getWPName()}}">Projects</a></li><li><a ng-href=/me analytics-on=click analytics-event="Profile Avatar From {{getWPName()}}">Profile</a></li><li><span ng-click=logout() analytics-on=click analytics-event="Logout Avatar From {{getWPName()}}">Logout</span></li></ul></div></div></nav><nav ng-if="!username && loading" id=csj_menu_user class=csj_logged><div class=csj_userinfo><img ng-src="http://www.gravatar.com/avatar/?d={{defaultIconUrlEnc}}" alt="{{username}} avatar"><div class=csj_username_holder><span class="csj_username logging_in">Loading<span>.</span><span>.</span><span>.</span></span></div></div></nav><nav ng-if="!username && loggingOut" id=csj_menu_user class=csj_logged><div class=csj_userinfo><div class=csj_username_holder><span class="csj_username logging_in">Logging out<span>.</span><span>.</span><span>.</span></span></div></div></nav></div>'),a.put("components/header/usermenu/user-menu.html",'<nav id=csj_menu class=logged><ul><li class=projects><a ng-href=/home analytics-on=click analytics-event="Projects From {{getWPName()}}">Projects</a></li><li class=pricing><a ng-href=/pricing target=_blank analytics-on=click analytics-event="Pricing From {{getWPName()}}">Pricing</a></li><li class=documentation><a ng-href=http://docs.cocoon.io target=_blank analytics-on=click analytics-event="Docs From {{getWPName()}}">Docs</a></li><li class=blog><a ng-href="https://blog.cocoon.io/" target=_blank analytics-on=click analytics-event="Blog From {{getWPName()}}">Blog</a></li><li class=forum><a ng-href=https://forums.cocoon.io/session/sso target=_blank analytics-on=click analytics-event="Forum From {{getWPName()}}">Forum</a></li></ul></nav>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top headBack" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><!-- <button class="navbar-toggle" type="button" ng-click="isCollapsed = !isCollapsed">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button> --><a href="/" class=headBack>cocoonjs</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li></ul><ul class="nav navbar-nav navbar-right"><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/signup\')}"><a href=/signup>Sign up</a></li><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/login\')}"><a href=/login>Login</a></li><li ng-show=isLoggedIn()><p class=navbar-text>Hello {{ getCurrentUser().name }}</p></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/settings\')}"><a href=/settings><span class="glyphicon glyphicon-cog"></span></a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()>Logout</a></li></ul></div></div></div>')}]);